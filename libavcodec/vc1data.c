/*
 * VC-1 and WMV3 decoder
 * copyright (c) 2011 Mashiat Sarker Shakkhar
 * copyright (c) 2006 Konstantin Shishkov
 * (c) 2005 anonymous, Alex Beregszaszi, Michael Niedermayer
 *
 * This file is part of FFmpeg.
 *
 * FFmpeg is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 *
 * FFmpeg is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with FFmpeg; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
 */

/**
 * @file
 * VC-1 tables.
 */

#include "avcodec.h"
#include "vc1.h"
#include "vc1data.h"

/** Table for conversion between TTBLK and TTMB */
const int ff_vc1_ttblk_to_tt[3][8] = {
    { TT_8X4, TT_4X8, TT_8X8, TT_4X4, TT_8X4_TOP, TT_8X4_BOTTOM, TT_4X8_RIGHT, TT_4X8_LEFT },
    { TT_8X8, TT_4X8_RIGHT, TT_4X8_LEFT, TT_4X4, TT_8X4, TT_4X8, TT_8X4_BOTTOM, TT_8X4_TOP },
    { TT_8X8, TT_4X8, TT_4X4, TT_8X4_BOTTOM, TT_4X8_RIGHT, TT_4X8_LEFT, TT_8X4, TT_8X4_TOP }
};

const int ff_vc1_ttfrm_to_tt[4] = { TT_8X8, TT_8X4, TT_4X8, TT_4X4 };

/** MV P mode - the 5th element is only used for mode 1 */
const uint8_t ff_vc1_mv_pmode_table[2][5] = {
    { MV_PMODE_1MV_HPEL_BILIN, MV_PMODE_1MV, MV_PMODE_1MV_HPEL, MV_PMODE_INTENSITY_COMP, MV_PMODE_MIXED_MV },
    { MV_PMODE_1MV, MV_PMODE_MIXED_MV, MV_PMODE_1MV_HPEL, MV_PMODE_INTENSITY_COMP, MV_PMODE_1MV_HPEL_BILIN }
};
const uint8_t ff_vc1_mv_pmode_table2[2][4] = {
    { MV_PMODE_1MV_HPEL_BILIN, MV_PMODE_1MV, MV_PMODE_1MV_HPEL, MV_PMODE_MIXED_MV },
    { MV_PMODE_1MV, MV_PMODE_MIXED_MV, MV_PMODE_1MV_HPEL, MV_PMODE_1MV_HPEL_BILIN }
};

/* MBMODE table for interlaced frame P-picture */
const uint8_t ff_vc1_mbmode_intfrp[2][15][4] = {
    { /* 1: 4-MV, 0: non-4-MV */
        /* Type, FIELDTX, 1-MV Differential present, Residuals (CBP) present */
        /* Table 164 - Table 167 */
        { MV_PMODE_INTFR_1MV      , 0, 1, 1 },
        { MV_PMODE_INTFR_1MV      , 1, 1, 1 },
        { MV_PMODE_INTFR_1MV      , 0, 1, 0 },
        { MV_PMODE_INTFR_1MV      , 0, 0, 1 },
        { MV_PMODE_INTFR_1MV      , 1, 0, 1 },
        { MV_PMODE_INTFR_2MV_FIELD, 0, 0, 1 },
        { MV_PMODE_INTFR_2MV_FIELD, 1, 0, 1 },
        { MV_PMODE_INTFR_2MV_FIELD, 1, 0, 0 },
        { MV_PMODE_INTFR_INTRA    , 0, 0, 0 }
    },
    {
        /* Table 160 - Table 163 */
        { MV_PMODE_INTFR_1MV      , 0, 1, 1 },
        { MV_PMODE_INTFR_1MV      , 1, 1, 1 },
        { MV_PMODE_INTFR_1MV      , 0, 1, 0 },
        { MV_PMODE_INTFR_1MV      , 0, 0, 1 },
        { MV_PMODE_INTFR_1MV      , 1, 0, 1 },
        { MV_PMODE_INTFR_2MV_FIELD, 0, 0, 1 },
        { MV_PMODE_INTFR_2MV_FIELD, 1, 0, 1 },
        { MV_PMODE_INTFR_2MV_FIELD, 1, 0, 0 },
        { MV_PMODE_INTFR_4MV      , 0, 0, 1 },
        { MV_PMODE_INTFR_4MV      , 1, 0, 1 },
        { MV_PMODE_INTFR_4MV      , 0, 0, 0 },
        { MV_PMODE_INTFR_4MV_FIELD, 0, 0, 1 },
        { MV_PMODE_INTFR_4MV_FIELD, 1, 0, 1 },
        { MV_PMODE_INTFR_4MV_FIELD, 1, 0, 0 },
        { MV_PMODE_INTFR_INTRA    , 0, 0, 0 }
    }
};

/** @name VC-1 VLC tables and defines
 *  @todo TODO move this into the context
 */
//@{
#define VC1_BFRACTION_VLC_BITS 7
VLC ff_vc1_bfraction_vlc;
#define VC1_IMODE_VLC_BITS 4
VLC ff_vc1_imode_vlc;
#define VC1_NORM2_VLC_BITS 3
VLC ff_vc1_norm2_vlc;
#define VC1_NORM6_VLC_BITS 9
VLC ff_vc1_norm6_vlc;
/* Could be optimized, one table only needs 8 bits */
#define VC1_TTMB_VLC_BITS 9 //12
VLC ff_vc1_ttmb_vlc[3];
#define VC1_MV_DIFF_VLC_BITS 9 //15
VLC ff_vc1_mv_diff_vlc[4];
#define VC1_CBPCY_P_VLC_BITS 9 //14
VLC ff_vc1_cbpcy_p_vlc[4];
#define VC1_ICBPCY_VLC_BITS 9
VLC ff_vc1_icbpcy_vlc[8];
#define VC1_4MV_BLOCK_PATTERN_VLC_BITS 6
VLC ff_vc1_4mv_block_pattern_vlc[4];
#define VC1_2MV_BLOCK_PATTERN_VLC_BITS 3
VLC ff_vc1_2mv_block_pattern_vlc[4];
#define VC1_TTBLK_VLC_BITS 5
VLC ff_vc1_ttblk_vlc[3];
#define VC1_SUBBLKPAT_VLC_BITS 6
VLC ff_vc1_subblkpat_vlc[3];
#define VC1_INTFR_4MV_MBMODE_VLC_BITS 9
VLC ff_vc1_intfr_4mv_mbmode_vlc[4];
#define VC1_INTFR_NON4MV_MBMODE_VLC_BITS 6
VLC ff_vc1_intfr_non4mv_mbmode_vlc[4];
#define VC1_IF_MMV_MBMODE_VLC_BITS 5
VLC ff_vc1_if_mmv_mbmode_vlc[8];
#define VC1_IF_1MV_MBMODE_VLC_BITS 5
VLC ff_vc1_if_1mv_mbmode_vlc[8];
#define VC1_1REF_MVDATA_VLC_BITS 9
VLC ff_vc1_1ref_mvdata_vlc[4];
#define VC1_2REF_MVDATA_VLC_BITS 9
VLC ff_vc1_2ref_mvdata_vlc[8];

VLC ff_vc1_ac_coeff_table[8];

#define VC1_IF_MBMODE_VLC_BITS 5    // as a placeholder for VC1_IF_MMV_MBMODE_VLC_BITS
                                    // or VC1_IF_1MV_MBMODE_VLC_BITS since they are the same
//@}


#if B_FRACTION_DEN == 840 // original bfraction from vc9data.h, not conforming to standard
/* bfraction is fractional, we scale to the GCD 3*5*7*8 = 840 */
const int16_t ff_vc1_bfraction_lut[23] = {
    420 /*1/2*/, 280 /*1/3*/, 560 /*2/3*/, 210 /*1/4*/,
    630 /*3/4*/, 168 /*1/5*/, 336 /*2/5*/,
    504 /*3/5*/, 672 /*4/5*/, 140 /*1/6*/, 700 /*5/6*/,
    120 /*1/7*/, 240 /*2/7*/, 360 /*3/7*/, 480 /*4/7*/,
    600 /*5/7*/, 720 /*6/7*/, 105 /*1/8*/, 315 /*3/8*/,
    525 /*5/8*/, 735 /*7/8*/,
    -1 /*inv.*/, 0 /*BI fm*/
};
#else
/* pre-computed scales for all bfractions and base=256 */
const int16_t ff_vc1_bfraction_lut[23] = {
    128 /*1/2*/,  85 /*1/3*/, 170 /*2/3*/,  64 /*1/4*/,
    192 /*3/4*/,  51 /*1/5*/, 102 /*2/5*/,
    153 /*3/5*/, 204 /*4/5*/,  43 /*1/6*/, 215 /*5/6*/,
     37 /*1/7*/,  74 /*2/7*/, 111 /*3/7*/, 148 /*4/7*/,
    185 /*5/7*/, 222 /*6/7*/,  32 /*1/8*/,  96 /*3/8*/,
    160 /*5/8*/, 224 /*7/8*/,
    -1 /*inv.*/, 0 /*BI fm*/
};
#endif

const uint8_t ff_vc1_bfraction_bits[23] = {
    3, 3, 3, 3,
    3, 3, 3,
    7, 7, 7, 7,
    7, 7, 7, 7,
    7, 7, 7, 7,
    7, 7,
    7, 7
};
const uint8_t ff_vc1_bfraction_codes[23] = {
      0,   1,   2,   3,
      4,   5,   6,
    112, 113, 114, 115,
    116, 117, 118, 119,
    120, 121, 122, 123,
    124, 125,
    126, 127
};

/* BitPlane IMODE - such a small table... */
const uint8_t ff_vc1_imode_codes[7] = {
    0, 2, 1, 3, 1, 2, 3
};
const uint8_t ff_vc1_imode_bits[7] = {
    4, 2, 3, 2, 4, 3, 3
};

/* Normal-2 imode */
const uint8_t ff_vc1_norm2_codes[4] = {
    0, 4, 5, 3
};
const uint8_t ff_vc1_norm2_bits[4] = {
    1, 3, 3, 2
};

const uint16_t ff_vc1_norm6_codes[64] = {
    0x001, 0x002, 0x003, 0x000, 0x004, 0x001, 0x002, 0x047, 0x005, 0x003, 0x004, 0x04B, 0x005, 0x04D, 0x04E, 0x30E,
    0x006, 0x006, 0x007, 0x053, 0x008, 0x055, 0x056, 0x30D, 0x009, 0x059, 0x05A, 0x30C, 0x05C, 0x30B, 0x30A, 0x037,
    0x007, 0x00A, 0x00B, 0x043, 0x00C, 0x045, 0x046, 0x309, 0x00D, 0x049, 0x04A, 0x308, 0x04C, 0x307, 0x306, 0x036,
    0x00E, 0x051, 0x052, 0x305, 0x054, 0x304, 0x303, 0x035, 0x058, 0x302, 0x301, 0x034, 0x300, 0x033, 0x032, 0x007,
};

const uint8_t ff_vc1_norm6_bits[64] = {
    1,  4,  4,  8,  4,  8,  8, 10,  4,  8,  8, 10,  8, 10, 10, 13,
    4,  8,  8, 10,  8, 10, 10, 13,  8, 10, 10, 13, 10, 13, 13,  9,
    4,  8,  8, 10,  8, 10, 10, 13,  8, 10, 10, 13, 10, 13, 13,  9,
    8, 10, 10, 13, 10, 13, 13,  9, 10, 13, 13,  9, 13,  9,  9,  6,
};

/* 4MV Block pattern VLC tables */
const uint8_t ff_vc1_4mv_block_pattern_codes[4][16] = {
    { 14, 58, 59, 25, 12, 26, 15, 15, 13, 24, 27,  0, 28,  1,  2,  2 },
    {  8, 18, 19,  4, 20,  5, 30, 11, 21, 31,  6, 12,  7, 13, 14,  0 },
    { 15,  6,  7,  2,  8,  3, 28,  9, 10, 29,  4, 11,  5, 12, 13,  0 },
    {  0, 11, 12,  4, 13,  5, 30, 16, 14, 31,  6, 17,  7, 18, 19, 10 }
};
const uint8_t ff_vc1_4mv_block_pattern_bits[4][16] = {
    { 5, 6, 6, 5, 5, 5, 5, 4, 5, 5, 5, 3, 5, 3, 3, 2 },
    { 4, 5, 5, 4, 5, 4, 5, 4, 5, 5, 4, 4, 4, 4, 4, 2 },
    { 4, 4, 4, 4, 4, 4, 5, 4, 4, 5, 4, 4, 4, 4, 4, 3 },
    { 2, 4, 4, 4, 4, 4, 5, 5, 4, 5, 4, 5, 4, 5, 5, 4 }
};

/* 2MV Block pattern VLC tables */
const uint8_t ff_vc1_2mv_block_pattern_codes[4][4] = {
    { 2, 1, 0, 3 }, { 1, 0, 2, 3 }, { 2, 0, 3, 1 }, { 1, 3, 2, 0 }
};

const uint8_t ff_vc1_2mv_block_pattern_bits[4][4] = {
    { 2, 2, 2, 2 }, { 1, 2, 3, 3 }, { 3, 2, 3, 1 }, { 1, 3, 3, 2 }
};

/* Interlaced frame picture 4MV MBMODE VLC tables (p. 246, p. 360) */
const uint16_t ff_vc1_intfr_4mv_mbmode_codes[4][15] = {
    { 22,  17,  0, 47,  32, 10,  1,  3, 67,  133, 132,  92,  19,  93,   18 },
    {  3,  45,  0,  7,  23,  6,  1,  2, 10,   39,  44,   8,  18,  77,   76 },
    { 15,   6, 28,  9,  41,  6,  2, 15, 14,    8,  40,  29,   0,  21,   11 },
    {  7, 198,  1,  2, 193, 13, 25,  0, 97, 1599,  98, 398, 798, 192, 1598 }
};

const uint8_t ff_vc1_intfr_4mv_mbmode_bits[4][15] = {
    { 5, 5, 2, 6, 6, 4, 2, 2, 7,  8, 8,  7,  5, 7,  5 },
    { 3, 6, 3, 3, 5, 3, 3, 3, 4,  6, 6,  4,  5, 7,  7 },
    { 4, 3, 5, 5, 7, 4, 2, 5, 5,  5, 7,  5,  2, 6,  5 },
    { 4, 9, 1, 3, 9, 5, 6, 2, 8, 12, 8, 10, 11, 9, 12 }
};

/* Interlaced frame picture NON-4MV MBMODE VLC tables (p. 363) */
const uint8_t ff_vc1_intfr_non4mv_mbmode_codes[4][9] = {
    {  9, 22,  0, 17, 16, 10,  1,  3, 23 },
    {  7,  0,  5,  2,  1,  1,  6,  3,  4 },
    {  1,  0, 10, 23, 44,  8,  3,  9, 45 },
    {  7, 97,  1,  2, 49, 13, 25,  0, 96 }
};

const uint8_t ff_vc1_intfr_non4mv_mbmode_bits[4][9] = {
    {  4,  5,  2,  5,  5,  4,  2,  2,  5 },
    {  3,  4,  6,  2,  3,  2,  3,  5,  6 },
    {  2,  2,  4,  5,  6,  4,  2,  4,  6 },
    {  4,  8,  1,  3,  7,  5,  6,  2,  8 }
};

/* Interlaced field picture MBMODE VLC tables (p. 356 - 11.4.1, 11.4.2) */
/* mixed-MV */
const uint8_t ff_vc1_if_mmv_mbmode_codes[8][8] = {
    { 16, 17,  3,  3,  0,  5,  9,  2 },
    {  8,  9,  3,  6,  7,  0,  5,  2 },
    { 16, 17,  5,  3,  0,  3,  9,  2 },
    { 56, 57, 15,  4,  5,  6, 29,  0 },
    { 52, 53, 27, 14, 15,  2, 12,  0 },
    { 56, 57, 29,  5,  6,  0, 15,  4 },
    { 16, 17,  6,  7,  0,  1,  9,  5 },
    { 56, 57,  0,  5,  6, 29,  4, 15 }
};
const uint8_t ff_vc1_if_mmv_mbmode_bits[8][8] = {
    { 6, 6, 2, 3, 2, 4, 5, 2 },
    { 5, 5, 3, 3, 3, 2, 4, 2 },
    { 6, 6, 4, 3, 2, 2, 5, 2 },
    { 6, 6, 4, 3, 3, 3, 5, 1 },
    { 6, 6, 5, 4, 4, 2, 4, 1 },
    { 6, 6, 5, 3, 3, 1, 4, 3 },
    { 5, 5, 3, 3, 2, 2, 4, 3 },
    { 6, 6, 1, 3, 3, 5, 3, 4 }
};
/* 1MV */
const uint8_t ff_vc1_if_1mv_mbmode_codes[8][6] = {
    {  0,  1,  1,  1,  1,  1 },
    {  0,  1,  1,  1,  1,  1 },
    { 16, 17,  3,  0,  9,  5 },
    { 20, 21,  3, 11,  0,  4 },
    {  4,  5,  2,  3,  3,  0 },
    {  4,  5,  3,  2,  0,  3 },
    {  0,  1,  1,  1,  1,  1 },
    { 16, 17,  9,  5,  3,  0 }
};
const uint8_t ff_vc1_if_1mv_mbmode_bits[8][6] = {
    { 5, 5, 1, 3, 2, 4 },
    { 5, 5, 1, 2, 3, 4 },
    { 5, 5, 2, 1, 4, 3 },
    { 5, 5, 2, 4, 1, 3 },
    { 4, 4, 2, 3, 2, 2 },
    { 4, 4, 3, 2, 2, 2 },
    { 5, 5, 3, 4, 1, 2 },
    { 5, 5, 4, 3, 2, 1 }
};

/* Interlaced frame/field picture MVDATA VLC tables */

/* 1-reference tables */
const uint32_t ff_vc1_1ref_mvdata_codes[4][72] = { /* uint32_t may be too big */
  {
    0x00005, 0x0000C, 0x0001E, 0x00012, 0x0000C, 0x00034, 0x00075, 0x00070,
    0x00000, 0x00008, 0x0001B, 0x00008, 0x0001D, 0x0007C, 0x000D6, 0x001DE,
    0x001AF, 0x00005, 0x0001B, 0x00026, 0x0001E, 0x00012, 0x00076, 0x0004D,
    0x001F6, 0x001F4, 0x00039, 0x0007F, 0x00027, 0x0006A, 0x00071, 0x00035,
    0x00071, 0x00068, 0x001DC, 0x00027, 0x00073, 0x000FF, 0x000E8, 0x000E9,
    0x0007E, 0x001F9, 0x001F5, 0x001FD, 0x0003E, 0x001CA, 0x003F9, 0x0004C,
    0x00069, 0x001FA, 0x001DF, 0x001F7, 0x00070, 0x001DD, 0x00E4D, 0x00727,
    0x00392, 0x001C8, 0x001CB, 0x003F8, 0x001AE, 0x001F8, 0x001FB, 0x0E4CE,
    0x0E4CF, 0x07260, 0x07261, 0x07262, 0x07263, 0x07264, 0x07265, 0x07266
  },
  {
    0x00007, 0x00001, 0x00007, 0x00016, 0x00001, 0x00045, 0x00018, 0x002B6,
    0x00006, 0x00004, 0x00017, 0x00010, 0x00029, 0x0002C, 0x0015A, 0x00066,
    0x0019E, 0x00009, 0x00028, 0x00017, 0x00000, 0x0002A, 0x00004, 0x0005B,
    0x000B5, 0x000CE, 0x00006, 0x00044, 0x0000F, 0x00046, 0x0000E, 0x000AC,
    0x00032, 0x00037, 0x011EB, 0x0000A, 0x0001A, 0x0011F, 0x00016, 0x00014,
    0x0002B, 0x00168, 0x00055, 0x023D5, 0x00057, 0x0002F, 0x00036, 0x0002E,
    0x00169, 0x00054, 0x0047B, 0x0019F, 0x02B7D, 0x0008E, 0x00ADE, 0x00479,
    0x0056E, 0x008F4, 0x015BF, 0x00478, 0x023D4, 0x0ADF1, 0x056F9, 0xADF0E,
    0xADF0F, 0x56F80, 0x56F81, 0x56F82, 0x56F83, 0x56F84, 0x56F85, 0x56F86
  },
  {
    0x00002, 0x00006, 0x00007, 0x0000D, 0x00007, 0x00030, 0x000FF, 0x001F0,
    0x00002, 0x00000, 0x00005, 0x00019, 0x0001E, 0x00007, 0x00063, 0x000FD,
    0x00023, 0x0000E, 0x0001B, 0x0001A, 0x00006, 0x00009, 0x00018, 0x000C5,
    0x00033, 0x001F1, 0x00002, 0x003FB, 0x001F3, 0x00022, 0x001FC, 0x00042,
    0x00623, 0x00083, 0x00620, 0x0007D, 0x00040, 0x00043, 0x003E4, 0x003E5,
    0x00191, 0x00FE9, 0x00105, 0x00208, 0x000FC, 0x00624, 0x00622, 0x00190,
    0x00626, 0x007F5, 0x00C4B, 0x01FD0, 0x0104D, 0x00065, 0x00C42, 0x000C9,
    0x00627, 0x00C43, 0x00C4A, 0x0104E, 0x01FD1, 0x0104F, 0x00412, 0x104CE,
    0x104CF, 0x08260, 0x08261, 0x08262, 0x08263, 0x08264, 0x08265, 0x08266
  },
  {
    0x0000D, 0x00001, 0x00004, 0x00000, 0x00017, 0x00005, 0x0007F, 0x0004D,
    0x00003, 0x00011, 0x0003E, 0x0003B, 0x00017, 0x00067, 0x0004A, 0x000C3,
    0x000F2, 0x0000A, 0x0002C, 0x00032, 0x0003D, 0x00015, 0x00028, 0x00093,
    0x000CC, 0x00096, 0x00003, 0x00075, 0x00020, 0x0002D, 0x00021, 0x00029,
    0x00090, 0x001D0, 0x001FB, 0x0001C, 0x0004C, 0x00060, 0x00009, 0x00008,
    0x0002D, 0x0009F, 0x001FA, 0x0013D, 0x00031, 0x000FC, 0x00058, 0x00092,
    0x000F0, 0x000F1, 0x000CD, 0x00185, 0x00165, 0x0004E, 0x00091, 0x000E9,
    0x00184, 0x001D1, 0x001E6, 0x00097, 0x001E7, 0x000B3, 0x0013C, 0x0164E,
    0x0164F, 0x00B20, 0x00B21, 0x00B22, 0x00B23, 0x00B24, 0x00B25, 0x00B26
  }
};

const uint8_t ff_vc1_1ref_mvdata_bits[4][72] = {
  {
     3,  4,  5,  5,  5,  6,  7,  7,  2,  4,  5,  5,  6,  7,  8,  9,  9,  4,
     6,  6,  6,  6,  7,  8,  9,  9,  6,  8,  7,  7,  7,  7,  8,  8,  9,  6,
     8,  8,  8,  8,  8,  9,  9,  9,  7, 10, 10,  8,  8,  9,  9,  9,  8,  9,
    13, 12, 11, 10, 10, 10,  9,  9,  9, 17, 17, 16, 16, 16, 16, 16, 16, 16
  },
  {
     3,  3,  4,  5,  5,  7,  8, 10,  3,  4,  5,  5,  6,  7,  9, 10, 12,  4,
     6,  6,  5,  6,  6,  8,  9, 11,  4,  7,  7,  7,  7,  8,  9,  9, 13,  5,
     8,  9,  8,  8,  9, 10, 10, 14,  7,  9,  9,  9, 10, 10, 11, 12, 14,  8,
    12, 11, 11, 12, 13, 11, 14, 16, 15, 20, 20, 19, 19, 19, 19, 19, 19, 19
  },
  {
     3,  4,  4,  4,  5,  6,  8,  9,  2,  4,  5,  5,  5,  6,  7,  8,  8,  4,
     7,  7,  6,  6,  7,  8,  8,  9,  5, 10,  9,  8,  9,  9, 11, 10, 11,  7,
     9,  9, 10, 10, 11, 12, 11, 12,  8, 11, 11, 11, 11, 11, 12, 13, 15,  9,
    12, 10, 11, 12, 12, 15, 13, 15, 13, 19, 19, 18, 18, 18, 18, 18, 18, 18
  },
  {
     4,  4,  4,  4,  5,  5,  7,  7,  3,  5,  6,  6,  6,  7,  7,  8,  8,  4,
     6,  6,  6,  6,  7,  8,  8,  8,  4,  7,  6,  6,  6,  7,  8,  9,  9,  5,
     7,  7,  6,  6,  7,  8,  9,  9,  6,  8,  8,  8,  8,  8,  8,  9, 10,  7,
     8,  8,  9,  9,  9,  8,  9,  9,  9, 14, 14, 13, 13, 13, 13, 13, 13, 13
  }
};

/* 2-reference tables */
const uint32_t ff_vc1_2ref_mvdata_codes[8][126] = { /* table 132 - table 139 */
  {
    0x0000C, 0x0001C, 0x0000B, 0x00000, 0x0000E, 0x0002A, 0x00050, 0x00368,
    0x00002, 0x0001A, 0x00004, 0x0003A, 0x0001D, 0x0006C, 0x000EF, 0x001BC,
    0x0015F, 0x0000F, 0x00003, 0x0001C, 0x0000D, 0x0000B, 0x0003E, 0x000A7,
    0x00146, 0x00199, 0x00006, 0x0001F, 0x00004, 0x0003C, 0x00007, 0x001BE,
    0x0008B, 0x0002C, 0x007B3, 0x00005, 0x000DB, 0x00056, 0x000EC, 0x00052,
    0x001BD, 0x00078, 0x000CF, 0x00573, 0x00009, 0x00023, 0x000ED, 0x00018,
    0x00006, 0x00044, 0x000F5, 0x00079, 0x006D2, 0x0006E, 0x0002B, 0x0015D,
    0x00017, 0x0037F, 0x00144, 0x000CE, 0x00028, 0x000AB, 0x00010, 0x001B5,
    0x000F7, 0x000A6, 0x0007B, 0x00028, 0x001ED, 0x001E9, 0x006FD, 0x00004,
    0x000F5, 0x00029, 0x0028A, 0x0028B, 0x0028F, 0x00DF9, 0x00335, 0x01E85,
    0x000EE, 0x002BD, 0x0002B, 0x003D8, 0x003D1, 0x00198, 0x001E9, 0x0051D,
    0x000B4, 0x0003F, 0x00455, 0x0022B, 0x00229, 0x00451, 0x00578, 0x007B2,
    0x00570, 0x00155, 0x00032, 0x003D0, 0x00054, 0x006D3, 0x00571, 0x00454,
    0x00334, 0x01BF1, 0x000B7, 0x00029, 0x01E84, 0x0016C, 0x0019B, 0x01BF0,
    0x00579, 0x00F43, 0x000B5, 0x008A1, 0x0002A, 0x0016D, 0x008A0, 0x007A0,
    0x003D1, 0x00AE5, 0x00154, 0x00AE4, 0x00A39, 0x00A38
  },
  {
    0x00003, 0x00009, 0x00016, 0x00010, 0x000D7, 0x00335, 0x00574, 0x00555,
    0x00000, 0x0001D, 0x00009, 0x00017, 0x0002C, 0x000AD, 0x00374, 0x006B3,
    0x00577, 0x0000F, 0x00018, 0x0000A, 0x0002E, 0x00022, 0x0017C, 0x00E7B,
    0x01B89, 0x015D8, 0x00008, 0x00034, 0x0006D, 0x00023, 0x001C2, 0x00376,
    0x002D3, 0x01C4A, 0x0330A, 0x00014, 0x0006A, 0x00072, 0x0006C, 0x000E3,
    0x0019B, 0x0073F, 0x01CF0, 0x00B41, 0x00032, 0x000E6, 0x000E0, 0x000CF,
    0x000AB, 0x0019C, 0x002AB, 0x00E2B, 0x015D9, 0x0006F, 0x001C3, 0x000AF,
    0x000BF, 0x000AC, 0x0017D, 0x006E3, 0x00E29, 0x01984, 0x00054, 0x000B5,
    0x0017A, 0x001AD, 0x00199, 0x00178, 0x00358, 0x002D2, 0x01C4B, 0x0005B,
    0x002A8, 0x00331, 0x00388, 0x0038B, 0x00370, 0x00713, 0x00CC3, 0x01CF1,
    0x001B9, 0x005EF, 0x00738, 0x002F2, 0x0033B, 0x002B9, 0x006EB, 0x00570,
    0x00E24, 0x0039D, 0x005A2, 0x005A3, 0x00E7D, 0x005EE, 0x00739, 0x00554,
    0x00AA5, 0x00AA4, 0x00377, 0x01CF5, 0x00BCE, 0x00E79, 0x00660, 0x00674,
    0x006EA, 0x00E7C, 0x00D65, 0x002F6, 0x015DA, 0x01B88, 0x005A1, 0x01CF4,
    0x005E6, 0x00E28, 0x00575, 0x00D64, 0x00334, 0x0330B, 0x015DB, 0x00B40,
    0x00BCF, 0x00DC5, 0x00E2A, 0x00675, 0x00571, 0x00553
  },
  {
    0x00004, 0x00002, 0x00010, 0x00003, 0x00017, 0x00045, 0x0003E, 0x0007E,
    0x00003, 0x00002, 0x00028, 0x0001E, 0x00015, 0x00047, 0x00002, 0x0014D,
    0x00060, 0x0000B, 0x00026, 0x00024, 0x00014, 0x00032, 0x0006F, 0x000C3,
    0x00531, 0x006E5, 0x00015, 0x0003F, 0x0002D, 0x00001, 0x0013E, 0x000DD,
    0x000F6, 0x00305, 0x00331, 0x0000E, 0x00003, 0x00034, 0x00033, 0x0001A,
    0x0014A, 0x000C5, 0x000F4, 0x006E4, 0x00001, 0x0003C, 0x0007D, 0x0008D,
    0x0009D, 0x00031, 0x0006E, 0x00296, 0x000CD, 0x00025, 0x00149, 0x00032,
    0x00089, 0x00036, 0x00088, 0x0006F, 0x00003, 0x0031D, 0x0000E, 0x001AA,
    0x0027E, 0x00061, 0x0014E, 0x0014F, 0x00067, 0x000FF, 0x00183, 0x00036,
    0x00357, 0x000F5, 0x000C6, 0x000C2, 0x00299, 0x00119, 0x00231, 0x00350,
    0x0002C, 0x0018F, 0x00530, 0x00297, 0x00004, 0x001B8, 0x000C0, 0x0027A,
    0x00311, 0x0009C, 0x00621, 0x00199, 0x0031C, 0x000F7, 0x003E3, 0x00356,
    0x00189, 0x00005, 0x0006B, 0x008C2, 0x00330, 0x004FF, 0x004F0, 0x00351,
    0x004F2, 0x001F2, 0x00373, 0x00000, 0x00C41, 0x008C3, 0x009EC, 0x003E2,
    0x00304, 0x004F7, 0x004F1, 0x001F0, 0x00148, 0x00C40, 0x009ED, 0x008C0,
    0x008C1, 0x004F3, 0x004FE, 0x000FE, 0x001F3, 0x001A9
  },
  {
    0x00000, 0x00004, 0x0002F, 0x00052, 0x00010, 0x000AD, 0x0050B, 0x00190,
    0x00003, 0x00016, 0x00007, 0x0000D, 0x000BB, 0x00173, 0x000C9, 0x0050F,
    0x0172C, 0x00003, 0x00011, 0x00005, 0x00043, 0x00023, 0x0004B, 0x0032E,
    0x02E5B, 0x00482, 0x00009, 0x0002A, 0x00014, 0x0002A, 0x00108, 0x005CA,
    0x0065A, 0x02136, 0x02132, 0x0000B, 0x00013, 0x00041, 0x000B8, 0x00174,
    0x00100, 0x014DA, 0x0404E, 0x01437, 0x0002B, 0x00085, 0x000A7, 0x000A0,
    0x0014C, 0x0029A, 0x0032C, 0x02133, 0x0142A, 0x00051, 0x00284, 0x000AC,
    0x00102, 0x00045, 0x00044, 0x0081B, 0x0065E, 0x00CB7, 0x00018, 0x0050C,
    0x00212, 0x002E4, 0x00203, 0x00094, 0x00122, 0x0081A, 0x00655, 0x00033,
    0x002BA, 0x00246, 0x00242, 0x00A6E, 0x0040C, 0x00808, 0x02134, 0x0404F,
    0x00175, 0x00405, 0x00247, 0x0012A, 0x00A14, 0x002BB, 0x00191, 0x0084F,
    0x01438, 0x000AF, 0x00B97, 0x00483, 0x0143B, 0x0032B, 0x00243, 0x0142B,
    0x00958, 0x029BF, 0x00049, 0x00A6C, 0x014DB, 0x004AD, 0x014DE, 0x0084E,
    0x01434, 0x00257, 0x02E5A, 0x00207, 0x01435, 0x01439, 0x00CB6, 0x0143A,
    0x00194, 0x00654, 0x02135, 0x0537C, 0x0015C, 0x00240, 0x01012, 0x0537D,
    0x00959, 0x01098, 0x01436, 0x0065F, 0x02026, 0x02137
  },
  {
    0x00005, 0x00019, 0x00016, 0x00011, 0x0003E, 0x0005E, 0x000EF, 0x000E2,
    0x00000, 0x00039, 0x0002B, 0x00026, 0x00028, 0x00012, 0x000C2, 0x000ED,
    0x0011D, 0x0000D, 0x00031, 0x0002A, 0x00025, 0x00020, 0x0005C, 0x001ED,
    0x0024D, 0x00770, 0x00006, 0x0007A, 0x00060, 0x0004F, 0x00048, 0x00039,
    0x00186, 0x00213, 0x00EC6, 0x0000F, 0x00026, 0x0005F, 0x00075, 0x00070,
    0x00027, 0x001DB, 0x003C6, 0x0078F, 0x0003F, 0x000A6, 0x000F0, 0x0003A,
    0x00052, 0x0004E, 0x000E3, 0x001D9, 0x0030F, 0x00010, 0x001DD, 0x000A7,
    0x000F7, 0x00022, 0x00092, 0x003C4, 0x002EF, 0x00762, 0x00079, 0x0008F,
    0x001DA, 0x00087, 0x000E8, 0x000BA, 0x00176, 0x000EE, 0x003B0, 0x00085,
    0x00119, 0x0030E, 0x00108, 0x001D2, 0x0010C, 0x00773, 0x00424, 0x00434,
    0x00071, 0x005DD, 0x001C1, 0x003A7, 0x00127, 0x0008D, 0x0021B, 0x007B2,
    0x001DF, 0x003D8, 0x00764, 0x00EE4, 0x003B3, 0x0074D, 0x001D8, 0x005DC,
    0x0084A, 0x00499, 0x003C5, 0x01D8E, 0x00765, 0x00435, 0x00771, 0x001C2,
    0x00118, 0x003BC, 0x00381, 0x00387, 0x07B33, 0x01097, 0x01096, 0x01ECD,
    0x00E99, 0x00F1C, 0x00F1D, 0x00EE5, 0x0011C, 0x07B32, 0x03D98, 0x01D8F,
    0x00E98, 0x00F67, 0x003BD, 0x00380, 0x00498, 0x00386
  },
  {
    0x0000D, 0x00010, 0x0002E, 0x00039, 0x0000D, 0x00074, 0x000ED, 0x000B6,
    0x00001, 0x00002, 0x00000, 0x00030, 0x00029, 0x00070, 0x000F3, 0x0008C,
    0x00166, 0x00009, 0x00033, 0x00078, 0x00006, 0x000C4, 0x0000B, 0x00163,
    0x000CC, 0x005BE, 0x0001F, 0x0002F, 0x00064, 0x00018, 0x000C6, 0x0000A,
    0x00162, 0x002C0, 0x00EF3, 0x00007, 0x0000F, 0x000E3, 0x000CA, 0x000B2,
    0x0018F, 0x003AE, 0x0075F, 0x00C51, 0x00015, 0x00047, 0x000EE, 0x000E2,
    0x000EA, 0x00009, 0x0016A, 0x002C3, 0x0059D, 0x0003D, 0x00008, 0x001D9,
    0x00032, 0x0000E, 0x0016E, 0x0032C, 0x0065B, 0x0196B, 0x00002, 0x0000F,
    0x001D8, 0x0008D, 0x000B4, 0x001E4, 0x00067, 0x00317, 0x00794, 0x00022,
    0x003BE, 0x00315, 0x00034, 0x00037, 0x002DE, 0x0006C, 0x00EFE, 0x0066C,
    0x00028, 0x003CB, 0x003AC, 0x00035, 0x0016B, 0x003BD, 0x002C1, 0x0062C,
    0x01DFE, 0x0000E, 0x0059E, 0x005BF, 0x000DA, 0x00629, 0x00584, 0x00EB7,
    0x00B0A, 0x0066D, 0x0000C, 0x0077E, 0x0059C, 0x00778, 0x0075E, 0x0075A,
    0x0062D, 0x00337, 0x00334, 0x00197, 0x01E57, 0x01DE4, 0x0196A, 0x01E56,
    0x00C50, 0x00B3F, 0x01E54, 0x00B0B, 0x0018E, 0x001B6, 0x01E55, 0x00CB4,
    0x00B3E, 0x00EB6, 0x01DE5, 0x01DFF, 0x00335, 0x001B7
  },
  {
    0x00001, 0x0000B, 0x00019, 0x0006F, 0x0002A, 0x00075, 0x007EB, 0x00163,
    0x00001, 0x0000E, 0x0001A, 0x0003E, 0x0001C, 0x0002D, 0x00164, 0x007EC,
    0x00165, 0x00004, 0x00006, 0x00036, 0x0007F, 0x000AE, 0x00158, 0x0015C,
    0x0056D, 0xFD510, 0x00000, 0x00004, 0x0007B, 0x000F3, 0x0003B, 0x007ED,
    0x002B3, 0x002CC, 0x0056E, 0x00018, 0x0003E, 0x00017, 0x0001E, 0x000AF,
    0x003F7, 0x0056F, 0x002CD, 0xFD511, 0x00014, 0x000AD, 0x000AA, 0x00014,
    0x000A8, 0x00153, 0x000E8, 0x001FE, 0x00DCF, 0x00078, 0x001B8, 0x00152,
    0x000FE, 0x002B1, 0x0015D, 0x00160, 0xFD512, 0xFD513, 0x0007A, 0x002B0,
    0x001E5, 0x000E9, 0x000FC, 0x006E6, 0x00DC8, 0x00584, 0xFD514, 0x000AB,
    0x00DDE, 0x00159, 0x003F4, 0x00DC9, 0x00DCA, 0x001FA, 0xFD515, 0xFD516,
    0x000FC, 0x001FF, 0x001E4, 0x000AF, 0x0015A, 0x00167, 0x00DCB, 0x00585,
    0xFD517, 0x003F7, 0x03F55, 0xFD518, 0x00DDC, 0x00586, 0x03F56, 0xFD519,
    0x03F57, 0xFD51A, 0x001BA, 0x00587, 0x00588, 0x00DDF, 0x002B2, 0xFD51B,
    0x00DCE, 0x003F6, 0xFD51C, 0x00FD4, 0xFD51D, 0xFD51E, 0xFD51F, 0x7EA80,
    0x7EA81, 0x0056C, 0x7EA82, 0x7EA83, 0x00376, 0x00589, 0x0058A, 0x7EA84,
    0x7EA85, 0x00DDD, 0x7EA86, 0x7EA87, 0x0058B, 0x07EA9
  },
  {
    0x00003, 0x0000E, 0x0000F, 0x0007E, 0x00062, 0x000C6, 0x00CD9, 0x0063E,
    0x00002, 0x00002, 0x00000, 0x00018, 0x0000C, 0x00069, 0x00039, 0x00707,
    0x00C7E, 0x00002, 0x0000D, 0x0001B, 0x0000F, 0x0019A, 0x00647, 0x01A37,
    0x346C4, 0x0346D, 0x00001, 0x0001E, 0x0007F, 0x0000A, 0x000E1, 0x00661,
    0x00CE4, 0x346C5, 0x346C6, 0x0001D, 0x00030, 0x0000D, 0x000CB, 0x00199,
    0x00320, 0x0008E, 0x0652E, 0x346C7, 0x0003E, 0x00039, 0x00035, 0x00033,
    0x0019F, 0x001C0, 0x00CDA, 0x346C8, 0x346C9, 0x0000B, 0x000D0, 0x0019E,
    0x00022, 0x00038, 0x0018E, 0x0031E, 0x03294, 0x0023C, 0x00032, 0x00012,
    0x00013, 0x00071, 0x0019D, 0x00020, 0x00C87, 0x00CC0, 0x346CA, 0x00338,
    0x00653, 0x001A2, 0x0032A, 0x00322, 0x00CE7, 0x00084, 0x0011F, 0x346CB,
    0x00325, 0x00649, 0x0032B, 0x00077, 0x00648, 0x00642, 0x00C86, 0x00C8C,
    0x346CC, 0x0003A, 0x019B7, 0x00043, 0x00327, 0x0008C, 0x0008D, 0x00C8D,
    0x346CD, 0x346CE, 0x00337, 0x00CE5, 0x00085, 0x00326, 0x00347, 0x00CA4,
    0x00C7F, 0x00D1A, 0x346CF, 0x00328, 0x1A360, 0x1A361, 0x00CD8, 0x0068C,
    0x03295, 0x03296, 0x0652F, 0x066D8, 0x00331, 0x00706, 0x0023D, 0x00076,
    0x00CC1, 0x00382, 0x00CE6, 0x066D9, 0x066DA, 0x066DB
  }
};

const uint8_t ff_vc1_2ref_mvdata_bits[8][126] = {
  {
     4,  5,  5,  5,  6,  7,  8, 10,  2,  5,  5,  6,  6,  7,  8,  9,
    10,  4,  5,  6,  6,  7,  8,  9, 10, 11,  4,  6,  6,  7,  7,  9,
     9, 10, 12,  5,  8,  8,  8,  8,  9,  9, 10, 12,  5,  7,  8,  7,
     7,  8,  9,  9, 11,  7,  9, 10,  9, 10, 10, 10, 10, 12,  6,  9,
     9,  9,  9,  9, 10, 10, 11,  7, 10, 10, 11, 11, 11, 12, 12, 14,
     8, 11, 10, 11, 11, 11, 11, 12, 12,  8, 12, 11, 11, 12, 12, 12,
    12, 13,  8, 12, 11, 11, 12, 12, 12, 13, 12,  9, 14, 13, 11, 13,
    12, 13, 12, 13,  9, 13, 13, 12, 12, 13, 13, 13, 13, 13
  },
  {
     3,  4,  5,  6,  8, 10, 11, 11,  2,  5,  5,  6,  7,  8, 10, 11,
    11,  4,  5,  5,  6,  7,  9, 12, 13, 13,  4,  6,  7,  7,  9, 10,
    11, 13, 14,  5,  7,  7,  7,  8,  9, 11, 13, 13,  6,  8,  8,  8,
     8,  9, 10, 12, 13,  7,  9,  8,  8,  8,  9, 11, 12, 13,  7,  9,
     9,  9,  9,  9, 10, 11, 13,  8, 10, 10, 10, 10, 10, 11, 12, 13,
     9, 11, 11, 10, 10, 10, 11, 11, 12, 10, 12, 12, 12, 11, 11, 11,
    12, 12, 10, 13, 12, 12, 11, 11, 11, 12, 12, 10, 13, 13, 12, 13,
    11, 12, 11, 12, 10, 14, 13, 13, 12, 12, 12, 11, 11, 11
  },
  {
     4,  4,  5,  5,  6,  7,  8,  9,  2,  5,  6,  6,  6,  7,  7,  9,
     9,  4,  6,  6,  6,  7,  8,  9, 11, 12,  5,  7,  7,  7,  9,  9,
    10, 11, 12,  5,  7,  7,  7,  7,  9,  9, 10, 12,  5,  8,  8,  8,
     8,  8,  9, 10, 10,  6,  9,  8,  8,  8,  8,  9,  9, 11,  6, 10,
    10,  9,  9,  9,  9, 10, 10,  7, 11, 10,  9,  9, 10,  9, 10, 11,
     7, 10, 11, 10, 10, 10,  9, 10, 11,  8, 12, 11, 11, 10, 11, 11,
    10, 10,  8, 12, 12, 11, 11, 11, 11, 10, 11,  8, 13, 12, 12, 11,
    11, 11, 11, 10,  9, 13, 12, 12, 12, 11, 11, 10, 10, 10
  },
  {
     3,  4,  6,  7,  7,  9, 11, 11,  2,  5,  5,  6,  8,  9, 10, 11,
    13,  3,  5,  5,  7,  8,  9, 12, 14, 13,  4,  6,  6,  7,  9, 11,
    13, 14, 14,  5,  7,  7,  8,  9,  9, 13, 15, 13,  6,  8,  8,  8,
     9, 10, 12, 14, 13,  7, 10,  9,  9,  9,  9, 12, 13, 14,  7, 11,
    10, 10, 10, 10, 11, 12, 13,  8, 11, 12, 12, 12, 11, 12, 14, 15,
     9, 11, 12, 11, 12, 11, 11, 12, 13,  9, 12, 13, 13, 12, 12, 13,
    14, 14,  9, 12, 13, 13, 13, 12, 13, 12, 14, 10, 13, 13, 14, 13,
    11, 13, 14, 15, 10, 12, 13, 15, 14, 13, 13, 13, 14, 14
  },
  {
     4,  5,  5,  5,  6,  7,  8,  8,  2,  6,  6,  6,  6,  6,  8,  9,
    10,  4,  6,  6,  6,  6,  7,  9, 10, 11,  4,  7,  7,  7,  7,  7,
     9, 10, 12,  5,  7,  7,  7,  7,  7,  9, 10, 11,  6,  8,  8,  7,
     7,  7,  8,  9, 10,  6,  9,  8,  8,  7,  8, 10, 10, 11,  7,  9,
     9,  8,  8,  8,  9,  9, 10,  8, 10, 10,  9,  9,  9, 11, 11, 11,
     8, 11, 10, 10,  9,  9, 10, 11, 10, 10, 12, 12, 11, 11, 10, 11,
    12, 11, 10, 13, 12, 11, 11, 10, 10, 11, 11, 11, 15, 13, 13, 13,
    12, 12, 12, 12, 10, 15, 14, 13, 12, 12, 11, 11, 11, 11
  },
  {
     4,  5,  6,  6,  6,  7,  8,  8,  2,  4,  5,  6,  6,  7,  8,  8,
     9,  4,  6,  7,  7,  8,  8,  9, 10, 11,  5,  6,  7,  7,  8,  8,
     9, 10, 12,  5,  7,  8,  8,  8,  9, 10, 11, 12,  5,  7,  8,  8,
     8,  8,  9, 10, 11,  6,  8,  9,  8,  8,  9, 10, 11, 13,  5,  8,
     9,  8,  8,  9,  9, 10, 11,  6, 10, 10,  9,  9, 10, 10, 12, 13,
     6, 10, 10,  9,  9, 10, 10, 11, 13,  7, 11, 11, 11, 11, 11, 12,
    12, 13,  7, 11, 11, 11, 11, 11, 11, 12, 12,  9, 13, 13, 13, 13,
    12, 12, 13, 12,  9, 12, 13, 12, 12, 12, 13, 13, 12, 12
  },
  {
     3,  5,  6,  8,  9, 10, 12, 12,  1,  5,  6,  7,  8,  9, 12, 12,
    12,  4,  6,  7,  8,  9, 12, 12, 14, 21,  4,  6,  8,  9,  9, 12,
    13, 13, 14,  6,  9,  8,  8,  9, 13, 14, 13, 21,  6,  9,  9,  8,
     9, 10, 11, 12, 13,  8, 10, 10, 11, 11, 12, 12, 21, 21,  8, 11,
    10, 11, 11, 12, 13, 14, 21,  9, 13, 10, 11, 13, 13, 12, 21, 21,
     9, 12, 10, 11, 12, 12, 13, 14, 21, 11, 15, 21, 13, 14, 15, 21,
    15, 21, 10, 14, 14, 13, 13, 21, 13, 13, 21, 13, 21, 21, 21, 20,
    20, 14, 20, 20, 11, 14, 14, 20, 20, 13, 20, 20, 14, 16
  },
  {
     2,  5,  6,  8,  9, 10, 13, 13,  2,  4,  5,  6,  8,  9, 10, 13,
    14,  3,  5,  7,  8, 10, 12, 15, 20, 16,  4,  6,  8,  8, 10, 12,
    13, 20, 20,  7,  8,  8,  9, 10, 11, 12, 16, 20,  7,  8,  8,  8,
    10, 11, 13, 20, 20,  8, 10, 10, 10, 10, 11, 12, 15, 14,  8,  9,
     9,  9, 10, 10, 13, 13, 20, 11, 12, 11, 11, 11, 13, 12, 13, 20,
    11, 12, 11, 11, 12, 12, 13, 13, 20, 10, 14, 11, 11, 12, 12, 13,
    20, 20, 11, 13, 12, 11, 12, 13, 14, 14, 20, 11, 19, 19, 13, 13,
    15, 15, 16, 16, 11, 13, 14, 11, 13, 12, 13, 16, 16, 16
  }
};

const uint8_t ff_wmv3_dc_scale_table[32] = {
     0,  2,  4,  8,  8,  8,  9,  9, 10, 10, 11, 11, 12, 12, 13, 13,
    14, 14, 15, 15, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21
};

/* P-Picture CBPCY VLC tables */
// Looks like original tables are not conforming to standard at all. Are they used for old WMV?
const uint16_t ff_vc1_cbpcy_p_codes[4][64] = {
  {
      0,   6,  15,  13,  13,  11,   3,  13,   5,   8,  49,  10,  12, 114, 102, 119,
      1,  54,  96,   8,  10, 111,   5,  15,  12,  10,   2,  12,  13, 115,  53,  63,
      1,   7,   1,   7,  14,  12,   4,  14,   1,   9,  97,  11,   7,  58,  52,  62,
      4, 103,   1,   9,  11,  56, 101, 118,   4, 110, 100,  30,   2,   5,   4,   3
  },
  {
      0,   9,   1,  18,   5,  14, 237,  26,   3, 121,   3,  22,  13,  16,   6,  30,
      2,  10,   1,  20,  12, 241,   5,  28,  16,  12,   3,  24,  28, 124, 239, 247,
      1, 240,   1,  19,  18,  15,   4,  27,   1, 122,   2,  23,   1,  17,   7,  31,
      1,  11,   2,  21,  19, 246, 238,  29,  17,  13, 236,  25,  58,  63,   8, 125
  },
  {
      0, 201,  25, 231,   5, 221,   1,   3,   2, 414,   2, 241,  16, 225, 195, 492,
      2, 412,   1, 240,   7, 224,  98, 245,   1, 220,  96,   5,   9, 230, 101, 247,
      1, 102,   1, 415,  24,   3,   2, 244,   3,  54,   3, 484,  17, 114, 200, 493,
      3, 413,   1,   4,  13, 113,  99, 485,   4, 111, 194, 243,   5,  29,  26,  31
  },
  {
      0,  28,  12,  44,   3,  36,  20,  52,   2,  32,  16,  48,   8,  40,  24,  28,
      1,  30,  14,  46,   6,  38,  22,  54,   3,  34,  18,  50,  10,  42,  26,  30,
      1,  29,  13,  45,   5,  37,  21,  53,   2,  33,  17,  49,   9,  41,  25,  29,
      1,  31,  15,  47,   7,  39,  23,  55,   4,  35,  19,  51,  11,  43,  27,  31
   }
};

const uint8_t ff_vc1_cbpcy_p_bits[4][64] = {
  {
    13,  13,   7,  13,   7,  13,  13,  12,   6,  13,   7,  12,   6,   8,   8,   8,
     5,   7,   8,  12,   6,   8,  13,  12,   7,  13,  13,  12,   6,   8,   7,   7,
     6,  13,   8,  12,   7,  13,  13,  12,   7,  13,   8,  12,   5,   7,   7,   7,
     6,   8,  13,  12,   6,   7,   8,   8,   5,   8,   8,   6,   3,   3,   3,   2
  },
  {
    14,  13,   8,  13,   3,  13,   8,  13,   3,   7,   8,  13,   4,  13,  13,  13,
     3,  13,  13,  13,   4,   8,  13,  13,   5,  13,  13,  13,   5,   7,   8,   8,
     3,   8,  14,  13,   5,  13,  13,  13,   4,   7,  13,  13,   6,  13,  13,  13,
     5,  13,   8,  13,   5,   8,   8,  13,   5,  13,   8,  13,   6,   6,  13,   7
  },
  {
    13,   8,   6,   8,   4,   8,  13,  12,   4,   9,   8,   8,   5,   8,   8,   9,
     5,   9,  10,   8,   4,   8,   7,   8,   6,   8,   7,  13,   4,   8,   7,   8,
     5,   7,   8,   9,   6,  13,  13,   8,   4,   6,   8,   9,   5,   7,   8,   9,
     5,   9,   9,  13,   5,   7,   7,   9,   4,   7,   8,   8,   3,   5,   5,   5
  },
  {
     9,   9,   9,   9,   2,   9,   9,   9,   2,   9,   9,   9,   9,   9,   9,   8,
     3,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   8,
     2,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   8,
     9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   9,   8
  }
};

/* Interlaced CBPCY VLC tables (Table 124 - Table 131) */
const uint16_t ff_vc1_icbpcy_p_codes[8][63] = {
  {
    0x2F1A, 0x2F1B, 0x178C, 0x0090, 0x02A8, 0x02A9, 0x0BC7, 0x0091,
    0x02AA, 0x02AB, 0x05E0, 0x004A, 0x0096, 0x0097, 0x00BD, 0x0092,
    0x02AC, 0x02AD, 0x05E1, 0x0098, 0x0132, 0x0133, 0x0179, 0x0134,
    0x026A, 0x026B, 0x02FC, 0x004E, 0x0040, 0x0041, 0x002B, 0x0093,
    0x02AE, 0x02AF, 0x05E2, 0x0136, 0x026E, 0x026F, 0x02FD, 0x009E,
    0x013E, 0x013F, 0x017F, 0x0050, 0x0042, 0x0043, 0x002C, 0x0051,
    0x00A4, 0x00A5, 0x00BE, 0x0053, 0x0044, 0x0045, 0x002D, 0x0054,
    0x0046, 0x0047, 0x002E, 0x0003, 0x0000, 0x0001, 0x0001
  },
  {
    0x0041, 0x0042, 0x0100, 0x0043, 0x0088, 0x0089, 0x0101, 0x0045,
    0x008C, 0x008D, 0x0102, 0x0010, 0x0022, 0x0023, 0x0024, 0x0047,
    0x0010, 0x0011, 0x0103, 0x0025, 0x0058, 0x0059, 0x005A, 0x005B,
    0x005A, 0x005B, 0x005C, 0x000C, 0x0030, 0x0031, 0x0019, 0x0009,
    0x0014, 0x0015, 0x002C, 0x005C, 0x005D, 0x005E, 0x005F, 0x0026,
    0x005D, 0x005E, 0x005F, 0x000D, 0x0034, 0x0035, 0x001B, 0x0014,
    0x0027, 0x002A, 0x002B, 0x000E, 0x0038, 0x0039, 0x001D, 0x000F,
    0x003C, 0x003D, 0x001F, 0x0005, 0x0009, 0x0000, 0x0003
  },
  {
    0x0032, 0x0033, 0x001A, 0x0026, 0x00E4, 0x00E5, 0x01E6, 0x0027,
    0x00E6, 0x00E7, 0x01E7, 0x000E, 0x0063, 0x006C, 0x0077, 0x0028,
    0x00E8, 0x00E9, 0x01E8, 0x007B, 0x00DA, 0x00DB, 0x00EC, 0x00F5,
    0x01B8, 0x01B9, 0x01DA, 0x0021, 0x004B, 0x0054, 0x002B, 0x0029,
    0x00EA, 0x00EB, 0x01E9, 0x004A, 0x01BA, 0x01BB, 0x01DB, 0x0020,
    0x00DE, 0x00DF, 0x00F2, 0x0022, 0x0055, 0x0058, 0x002D, 0x000F,
    0x0070, 0x0071, 0x0078, 0x0023, 0x0059, 0x005C, 0x002F, 0x0024,
    0x005D, 0x0062, 0x0030, 0x0002, 0x001F, 0x0006, 0x0000
  },
  {
    0x0028, 0x0029, 0x009D, 0x0000, 0x01EA, 0x01EB, 0x01EC, 0x0001,
    0x01ED, 0x01EE, 0x01EF, 0x0005, 0x00F0, 0x00F1, 0x003B, 0x0002,
    0x01F0, 0x01F1, 0x01F2, 0x003F, 0x015C, 0x015D, 0x0099, 0x0010,
    0x03D0, 0x03D1, 0x0130, 0x000F, 0x009E, 0x009F, 0x00FB, 0x0003,
    0x01F3, 0x01F4, 0x01F5, 0x0011, 0x03D2, 0x03D3, 0x0131, 0x0009,
    0x015E, 0x015F, 0x009C, 0x0010, 0x00A8, 0x00A9, 0x0038, 0x0006,
    0x00F2, 0x00F3, 0x004D, 0x0011, 0x00AA, 0x00AB, 0x0039, 0x0012,
    0x00AC, 0x00AD, 0x003A, 0x0006, 0x0016, 0x0017, 0x000E
  },
  {
    0x003C, 0x003D, 0x001F, 0x000A, 0x0061, 0x0062, 0x0002, 0x000B,
    0x0063, 0x0064, 0x0003, 0x0007, 0x0003, 0x0004, 0x000B, 0x000C,
    0x0065, 0x0066, 0x0004, 0x0012, 0x000A, 0x000B, 0x0014, 0x001B,
    0x0018, 0x0019, 0x0034, 0x002C, 0x0067, 0x0068, 0x0035, 0x000D,
    0x0069, 0x006C, 0x0005, 0x0060, 0x001A, 0x001B, 0x0035, 0x0013,
    0x000E, 0x000F, 0x0015, 0x002D, 0x006D, 0x006E, 0x0038, 0x0008,
    0x0008, 0x0009, 0x000C, 0x002E, 0x006F, 0x0072, 0x003A, 0x002F,
    0x0073, 0x0000, 0x003B, 0x0007, 0x0014, 0x0015, 0x0004
  },
  {
    0x0038, 0x0039, 0x009D, 0x000A, 0x0091, 0x0092, 0x0093, 0x000B,
    0x0094, 0x0095, 0x0096, 0x0003, 0x00EE, 0x00EF, 0x0036, 0x000C,
    0x0097, 0x0098, 0x0099, 0x0008, 0x01E4, 0x01E5, 0x006A, 0x0018,
    0x03CC, 0x03CD, 0x00D6, 0x000E, 0x009E, 0x009F, 0x00F5, 0x000D,
    0x009A, 0x009B, 0x009C, 0x0019, 0x03CE, 0x03CF, 0x00D7, 0x0009,
    0x01E8, 0x01E9, 0x0090, 0x000F, 0x00E8, 0x00E9, 0x00F6, 0x0005,
    0x00F0, 0x00F1, 0x0037, 0x0010, 0x00EA, 0x00EB, 0x00F7, 0x0011,
    0x00EC, 0x00ED, 0x0034, 0x0000, 0x003E, 0x003F, 0x0002
  },
  {
    0x003C, 0x003D, 0x01CF, 0x0000, 0x00BF, 0x00E0, 0x01FC, 0x0001,
    0x00E1, 0x00E2, 0x01FD, 0x0009, 0x01F1, 0x01F2, 0x01F3, 0x0002,
    0x00E3, 0x00E4, 0x01FE, 0x0011, 0x03EE, 0x03EF, 0x03F0, 0x0021,
    0x07E2, 0x07E3, 0x07E4, 0x0018, 0x03F7, 0x03FE, 0x03FF, 0x0003,
    0x00E5, 0x00E6, 0x0080, 0x002E, 0x07E5, 0x07E6, 0x07E7, 0x0016,
    0x03F4, 0x03F5, 0x03F6, 0x0019, 0x0102, 0x0103, 0x0104, 0x000A,
    0x01F4, 0x01F5, 0x01F6, 0x001A, 0x0105, 0x0106, 0x0107, 0x001B,
    0x0178, 0x0179, 0x01CE, 0x001D, 0x00BD, 0x00BE, 0x01F0
  },
  {
    0x0003, 0x0004, 0x01B6, 0x0004, 0x002E, 0x002F, 0x000E, 0x0005,
    0x0030, 0x0031, 0x000F, 0x0003, 0x000A, 0x000B, 0x0014, 0x0006,
    0x0032, 0x0033, 0x0010, 0x0005, 0x0030, 0x0031, 0x0032, 0x0009,
    0x0066, 0x0067, 0x0068, 0x001D, 0x01B7, 0x01B8, 0x01B9, 0x0007,
    0x0034, 0x0035, 0x0011, 0x0016, 0x0069, 0x006A, 0x006B, 0x000A,
    0x0036, 0x0037, 0x00D8, 0x001E, 0x01BA, 0x01BB, 0x01BC, 0x0004,
    0x0015, 0x0016, 0x0017, 0x001F, 0x01BD, 0x01BE, 0x01BF, 0x0000,
    0x0010, 0x0011, 0x0012, 0x001C, 0x00D9, 0x00DA, 0x0013
  }
};

const uint8_t ff_vc1_icbpcy_p_bits[8][63] = {
  {
    15, 15, 14,  9, 11, 11, 13,  9, 11, 11, 12,  8,  9,  9,  9,  9,
    11, 11, 12,  9, 10, 10, 10, 10, 11, 11, 11,  8,  8,  8,  7,  9,
    11, 11, 12, 10, 11, 11, 11,  9, 10, 10, 10,  8,  8,  8,  7,  8,
     9,  9,  9,  8,  8,  8,  7,  8,  8,  8,  7,  3,  3,  3,  1
  },
  {
     7,  7,  9,  7,  8,  8,  9,  7,  8,  8,  9,  6,  7,  7,  7,  7,
     7,  7,  9,  7,  8,  8,  8,  8,  9,  9,  9,  6,  7,  7,  6,  6,
     7,  7,  8,  8,  9,  9,  9,  7,  8,  8,  8,  6,  7,  7,  6,  6,
     7,  7,  7,  6,  7,  7,  6,  6,  7,  7,  6,  3,  4,  3,  2
  },
  {
     6,  6,  5,  6,  8,  8,  9,  6,  8,  8,  9,  5,  7,  7,  7,  6,
     8,  8,  9,  7,  8,  8,  8,  8,  9,  9,  9,  6,  7,  7,  6,  6,
     8,  8,  9,  7,  9,  9,  9,  6,  8,  8,  8,  6,  7,  7,  6,  5,
     7,  7,  7,  6,  7,  7,  6,  6,  7,  7,  6,  3,  5,  4,  2
  },
  {
     6,  6,  8,  4,  9,  9,  9,  4,  9,  9,  9,  4,  8,  8,  7,  4,
     9,  9,  9,  6,  9,  9,  8,  6, 10, 10,  9,  5,  8,  8,  8,  4,
     9,  9,  9,  6, 10, 10,  9,  5,  9,  9,  8,  5,  8,  8,  7,  4,
     8,  8,  7,  5,  8,  8,  7,  5,  8,  8,  7,  3,  5,  5,  4
  },
  {
     6,  6,  5,  5,  7,  7,  7,  5,  7,  7,  7,  5,  6,  6,  6,  5,
     7,  7,  7,  6,  7,  7,  7,  7,  8,  8,  8,  6,  7,  7,  6,  5,
     7,  7,  7,  7,  8,  8,  8,  6,  7,  7,  7,  6,  7,  7,  6,  5,
     6,  6,  6,  6,  7,  7,  6,  6,  7,  6,  6,  4,  5,  5,  3
  },
  {
     6,  6,  8,  4,  8,  8,  8,  4,  8,  8,  8,  4,  8,  8,  7,  4,
     8,  8,  8,  5,  9,  9,  8,  6, 10, 10,  9,  5,  8,  8,  8,  4,
     8,  8,  8,  6, 10, 10,  9,  5,  9,  9,  8,  5,  8,  8,  8,  4,
     8,  8,  7,  5,  8,  8,  8,  5,  8,  8,  7,  3,  6,  6,  4
  },
  {
     6,  6,  9,  3,  8,  8,  9,  3,  8,  8,  9,  4,  9,  9,  9,  3,
     8,  8,  9,  5, 10, 10, 10,  6, 11, 11, 11,  5, 10, 10, 10,  3,
     8,  8,  8,  6, 11, 11, 11,  5, 10, 10, 10,  5,  9,  9,  9,  4,
     9,  9,  9,  5,  9,  9,  9,  5,  9,  9,  9,  5,  8,  8,  9
  },
  {
     6,  6, 10,  3,  7,  7,  7,  3,  7,  7,  7,  4,  8,  8,  8,  3,
     7,  7,  7,  5,  9,  9,  9,  6, 10, 10, 10,  6, 10, 10, 10,  3,
     7,  7,  7,  6, 10, 10, 10,  5,  9,  9,  9,  6, 10, 10, 10,  4,
     8,  8,  8,  6, 10, 10, 10,  5,  9,  9,  9,  6,  9,  9,  9
  }
};

/* MacroBlock Transform Type: 7.1.3.11, p89
 * 8x8:B
 * 8x4:B:btm  8x4:B:top  8x4:B:both,
 * 4x8:B:right  4x8:B:left  4x8:B:both
 * 4x4:B  8x8:MB
 * 8x4:MB:btm  8x4:MB:top  8x4,MB,both
 * 4x8,MB,right  4x8,MB,left
 * 4x4,MB                               */
const uint16_t ff_vc1_ttmb_codes[3][16] = {
  {
    0x0003,
    0x002E, 0x005F, 0x0000,
    0x0016, 0x0015, 0x0001,
    0x0004, 0x0014,
    0x02F1, 0x0179, 0x017B,
    0x0BC0, 0x0BC1, 0x05E1,
    0x017A
  },
  {
    0x0006,
    0x0006, 0x0003, 0x0007,
    0x000F, 0x000E, 0x0000,
    0x0002, 0x0002,
    0x0014, 0x0011, 0x000B,
    0x0009, 0x0021, 0x0015,
    0x0020
  },
  {
    0x0006,
    0x0000, 0x000E, 0x0005,
    0x0002, 0x0003, 0x0003,
    0x000F, 0x0002,
    0x0081, 0x0021, 0x0009,
    0x0101, 0x0041, 0x0011,
    0x0100
  }
};

const uint8_t ff_vc1_ttmb_bits[3][16] = {
  {
     2,
     6,  7,  2,
     5,  5,  2,
     3,  5,
    10,  9,  9,
    12, 12, 11,
     9
  },
  {
    3,
    4, 4, 4,
    4, 4, 3,
    3, 2,
    7, 7, 6,
    6, 8, 7,
    8
  },
  {
     3,
     3, 4, 5,
     3, 3, 4,
     4, 2,
    10, 8, 6,
    11, 9, 7,
    11
  }
};

/* TTBLK (Transform Type per Block) tables */
const uint8_t ff_vc1_ttblk_codes[3][8] = {
    {  0,  1,  3,  5, 16, 17, 18, 19 },
    {  3,  0,  1,  2,  3,  5,  8,  9 },
    {  1,  0,  1,  4,  6,  7, 10, 11 }
};
const uint8_t ff_vc1_ttblk_bits[3][8] = {
    {  2,  2,  2,  3,  5,  5,  5,  5 },
    {  2,  3,  3,  3,  3,  3,  4,  4 },
    {  2,  3,  3,  3,  3,  3,  4,  4 }
};

/* SUBBLKPAT tables, p93-94, reordered */
const uint8_t ff_vc1_subblkpat_codes[3][15] = {
    { 14, 12,  7, 11,  9, 26,  2, 10, 27,  8,  0,  6,  1, 15,  1 },
    { 14,  0,  8, 15, 10,  4, 23, 13,  5,  9, 25,  3, 24, 22,  1 },
    {  5,  6,  2,  2,  8,  0, 28,  3,  1,  3, 29,  1, 19, 18, 15 }
};
const uint8_t ff_vc1_subblkpat_bits[3][15] = {
    {  5,  5,  5,  5,  5,  6,  4,  5,  6,  5,  4,  5,  4,  5,  1},
    {  4,  3,  4,  4,  4,  5,  5,  4,  5,  4,  5,  4,  5,  5,  2},
    {  3,  3,  4,  3,  4,  5,  5,  3,  5,  4,  5,  4,  5,  5,  4}
};

/* MV differential tables, p265 */
const uint16_t ff_vc1_mv_diff_codes[4][73] = {
  {
       0,    2,    3,    8,  576,    3,    2,    6,
       5,  577,  578,    7,    8,    9,   40,   19,
      37,   82,   21,   22,   23,  579,  580,  166,
      96,  167,   49,  194,  195,  581,  582,  583,
     292,  293,  294,   13,    2,    7,   24,   50,
     102,  295,   13,    7,    8,   18,   50,  103,
      38,   20,   21,   22,   39,  204,  103,   23,
      24,   25,  104,  410,  105,  106,  107,  108,
     109,  220,  411,  442,  222,  443,  446,  447,
       7 /* 73 elements */
  },
  {
       0,    4,    5,    3,    4,    3,    4,    5,
      20,    6,   21,   44,   45,   46, 3008,   95,
     112,  113,   57, 3009, 3010,  116,  117, 3011,
     118, 3012, 3013, 3014, 3015, 3016, 3017, 3018,
    3019, 3020, 3021, 3022,    1,    4,   15,  160,
     161,   41,    6,   11,   42,  162,   43,  119,
      56,   57,   58,  163,  236,  237, 3023,  119,
     120,  242,  122,  486, 1512,  487,  246,  494,
    1513,  495, 1514, 1515, 1516, 1517, 1518, 1519,
      31 /* 73 elements */
  },
  {
       0,  512,  513,  514,  515,    2,    3,  258,
     259,  260,  261,  262,  263,  264,  265,  266,
     267,  268,  269,  270,  271,  272,  273,  274,
     275,  276,  277,  278,  279,  280,  281,  282,
     283,  284,  285,  286,    1,    5,  287,  288,
     289,  290,    6,    7,  291,  292,  293,  294,
     295,  296,  297,  298,  299,  300,  301,  302,
     303,  304,  305,  306,  307,  308,  309,  310,
     311,  312,  313,  314,  315,  316,  317,  318,
     319 /* 73 elements */
  },
  {
       0,    1,    1,    2,    3,    4,    1,    5,
       4,    3,    5,    8,    6,    9,   10,   11,
      12,    7,  104,   14,  105,    4,   10,   15,
      11,    6,   14,    8,  106,  107,  108,   15,
     109,    9,   55,   10,    1,    2,    1,    2,
       3,   12,    6,    2,    6,    7,   28,    7,
      15,    8,    5,   18,   29,  152,   77,   24,
      25,   26,   39,  108,   13,  109,   55,   56,
      57,  116,   11,  153,  234,  235,  118,  119,
      15 /* 73 elements */
  }
};
const uint8_t ff_vc1_mv_diff_bits[4][73] = {
  {
     6,  7,  7,  8, 14,  6,  5,  6,  7, 14, 14,  6,  6,  6,  8,  9,
    10,  9,  7,  7,  7, 14, 14, 10,  9, 10,  8, 10, 10, 14, 14, 14,
    13, 13, 13,  6,  3,  5,  6,  8,  9, 13,  5,  4,  4,  5,  7,  9,
     6,  5,  5,  5,  6,  9,  8,  5,  5,  5,  7, 10,  7,  7,  7,  7,
     7,  8, 10,  9,  8,  9,  9,  9,  3 /* 73 elements */
  },
  {
     5,  7,  7,  6,  6,  5,  5,  6,  7,  5,  7,  8,  8,  8, 14,  9,
     9,  9,  8, 14, 14,  9,  9, 14,  9, 14, 14, 14, 14, 14, 14, 14,
    14, 14, 14, 14,  2,  3,  6,  8,  8,  6,  3,  4,  6,  8,  6,  9,
     6,  6,  6,  8,  8,  8, 14,  7,  7,  8,  7,  9, 13,  9,  8,  9,
    13,  9, 13, 13, 13, 13, 13, 13,  5 /* 73 elements */

  },
  {
     3, 12, 12, 12, 12,  3,  4, 11, 11, 11, 11, 11, 11, 11, 11, 11,
    11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
    11, 11, 11, 11,  1,  5, 11, 11, 11, 11,  4,  4, 11, 11, 11, 11,
    11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
    11, 11, 11, 11, 11, 11, 11, 11, 11 /* 73 elements */
  },
  {
    15, 11, 15, 15, 15, 15, 12, 15, 12, 11, 12, 12, 15, 12, 12, 12,
    12, 15, 15, 12, 15, 10, 11, 12, 11, 10, 11, 10, 15, 15, 15, 11,
    15, 10, 14, 10,  4,  4,  5,  7,  8,  9,  5,  3,  4,  5,  6,  8,
     5,  4,  3,  5,  6,  8,  7,  5,  5,  5,  6,  7,  9,  7,  6,  6,
     6,  7, 10,  8,  8,  8,  7,  7,  4 /* 73 elements */
  }
};

/* DC differentials low+hi-mo, p217 are the same as in msmpeg4data .h */

/* Table 232 */
const uint8_t ff_vc1_simple_progressive_4x4_zz [16] = {
     0,     8,    16,     1,
     9,    24,    17,     2,
    10,    18,    25,     3,
    11,    26,    19,    27
};

const uint8_t ff_vc1_adv_progressive_8x4_zz [32] = { /* Table 233 */
     0,     8,     1,    16,     2,     9,    10,     3,
    24,    17,     4,    11,    18,    12,     5,    19,
    25,    13,    20,    26,    27,     6,    21,    28,
    14,    22,    29,     7,    30,    15,    23,    31
};

const uint8_t ff_vc1_adv_progressive_4x8_zz [32] = { /* Table 234 */
     0,     1,     8,     2,
     9,    16,    17,    24,
    10,    32,    25,    18,
    40,     3,    33,    26,
    48,    11,    56,    41,
    34,    49,    57,    42,
    19,    50,    27,    58,
    35,    43,    51,    59
};

const uint8_t ff_vc1_adv_interlaced_8x8_zz [64] = { /* Table 235 */
     0,     8,     1,    16,    24,     9,     2,    32,
    40,    48,    56,    17,    10,     3,    25,    18,
    11,     4,    33,    41,    49,    57,    26,    34,
    42,    50,    58,    19,    12,     5,    27,    20,
    13,     6,    35,    28,    21,    14,     7,    15,
    22,    29,    36,    43,    51,    59,    60,    52,
    44,    37,    30,    23,    31,    38,    45,    53,
    61,    62,    54,    46,    39,    47,    55,    63
};

const uint8_t ff_vc1_adv_interlaced_8x4_zz [32] = { /* Table 236 */
     0,     8,    16,    24,     1,     9,     2,    17,
    25,    10,     3,    18,    26,     4,    11,    19,
    12,     5,    13,    20,    27,     6,    21,    28,
    14,    22,    29,     7,    30,    15,    23,    31
};

const uint8_t ff_vc1_adv_interlaced_4x8_zz [32] = { /* Table 237 */
     0,     1,     2,     8,
    16,     9,    24,    17,
    10,     3,    32,    40,
    48,    56,    25,    18,
    33,    26,    41,    34,
    49,    57,    11,    42,
    19,    50,    27,    58,
    35,    43,    51,    59
};

const uint8_t ff_vc1_adv_interlaced_4x4_zz [16] = { /* Table 238 */
     0,     8,    16,    24,
     1,     9,    17,     2,
    25,    10,    18,     3,
    26,    11,    19,    27
};

const int8_t vc1_high_motion_intra_run_level_table[185][2];
const int8_t vc1_high_motion_intra_delta_level_table[69];
const int8_t vc1_high_motion_intra_delta_run_table[27];
const int8_t vc1_high_motion_inter_run_level_table[168][2];
const int8_t vc1_high_motion_inter_delta_level_table[64];
const int8_t vc1_high_motion_inter_delta_run_table[34];
const int8_t vc1_low_motion_intra_run_level_table[132][2];
const int8_t vc1_low_motion_intra_delta_level_table[48];
const int8_t vc1_low_motion_intra_delta_run_table[22];
const int8_t vc1_low_motion_inter_run_level_table[148][2];
const int8_t vc1_low_motion_inter_delta_level_table[74];
const int8_t vc1_low_motion_inter_delta_run_table[21];
const int8_t vc1_mid_rate_intra_run_level_table[102][2];
const int8_t vc1_mid_rate_intra_delta_level_table[36];
const int8_t vc1_mid_rate_intra_delta_run_table[37];
const int8_t vc1_mid_rate_inter_run_level_table[102][2];
const int8_t vc1_mid_rate_inter_delta_level_table[68];
const int8_t vc1_mid_rate_inter_delta_run_table[17];
const int8_t vc1_high_rate_intra_run_level_table[162][2];
const int8_t vc1_high_rate_intra_delta_level_table[32];
const int8_t vc1_high_rate_intra_delta_run_table[62];
const int8_t vc1_high_rate_inter_run_level_table[174][2];
const int8_t vc1_high_rate_inter_delta_level_table[56];
const int8_t vc1_high_rate_inter_delta_run_table[38];

/* ASPECT_RATIO to Sample Aspect Ratio (Table 7) as specified in 6.1.14.3.1 */
const AVRational ff_vc1_sample_aspect_ratio[14] = {
    {   0,  1 }, {   1,  1 }, {  12, 11 }, {  10, 11 },
    {  16, 11 }, {  40, 33 }, {  24, 11 }, {  20, 11 },
    {  32, 11 }, {  80, 33 }, {  18, 11 }, {  15, 11 },
    {  64, 33 }, { 160, 99 }
};

/* FRAMERATENR to Frame Rate Numerator (Table 8) as specified in 6.1.14.4.2 */
const uint8_t ff_vc1_fps_num[7] = { 24, 25, 30, 50, 60, 48, 72 };

/* FRAMERATEDR to Frame Rate Denominator (Table 9) as specified in 6.1.14.4.3 */
const uint16_t ff_vc1_fps_den[2] = { 1000, 1001 };

/* PQINDEX to PQUANT (Table 36) as specified in 7.1.1.6 */
const uint8_t ff_vc1_pquant_table[32] = {
     0,  1,  2,  3,  4,  5,  6,  7,  8,  6,  7,  8,  9, 10, 11, 12,
    13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 27, 29, 31
};

/* MVMODE (Tables 46 & 47) as specified in 7.1.1.32 */
const uint8_t ff_vc1_mvmode_table[2][5] = {
    {
        MV_MODE_1MV_HPEL_BILIN,
        MV_MODE_1MV,
        MV_MODE_1MV_HPEL,
        MV_MODE_INTENSITY_COMP,
        MV_MODE_MIXED_MV
    },
    {
        MV_MODE_1MV,
        MV_MODE_MIXED_MV,
        MV_MODE_1MV_HPEL,
        MV_MODE_INTENSITY_COMP,
        MV_MODE_1MV_HPEL_BILIN
    }
};

/* MVMODE2 (Tables 49 & 50) as specified in 7.1.1.33 */
const uint8_t ff_vc1_mvmode2_table[2][4] = {
    {
        MV_MODE_1MV_HPEL_BILIN,
        MV_MODE_1MV,
        MV_MODE_1MV_HPEL,
        MV_MODE_MIXED_MV
    },
    {
        MV_MODE_1MV,
        MV_MODE_MIXED_MV,
        MV_MODE_1MV_HPEL,
        MV_MODE_1MV_HPEL_BILIN
    }
};

/* High Rate TTMB VLC Table (Table 54)
 * as specified in 7.1.3.10
 */
const uint16_t ff_vc1_high_rate_ttmb_codes[16] = {
       3,   46,   95,    0,   22,   21,    1,    4,
      20,  753,  377,  379, 3008, 3009, 1505,  378
};

const uint8_t ff_vc1_high_rate_ttmb_bits[16] = {
       2,    6,    7,    2,    5,    5,    2,    3,
       5,   10,    9,    9,   12,   12,   11,    9
};

const uint8_t ff_vc1_high_rate_ttmb_symbols[16] = {
      15,   35,   44,   47,   69,   74,   79,   96,
      31,   51,   60,   63,   85,   90,   95,  112
};

/* Medium Rate TTMB VLC Table (Table 55)
 * as specified in 7.1.3.10
 */
const uint8_t ff_vc1_med_rate_ttmb_codes[16] = {
      6,   6,   3,   7,  15,  14,   0,   2,
      2,  20,  17,  11,   9,  33,  21,  32
};

const uint8_t ff_vc1_med_rate_ttmb_bits[16] = {
      3,   4,   4,   4,   4,   4,   3,   3,
      2,   7,   7,   6,   6,   8,   7,   8
};

const uint8_t ff_vc1_med_rate_ttmb_symbols[16] = {
     15,  35,  44,  47,  69,  74,  79,  96,
     31,  51,  60,  63,  85,  90,  95, 112
};

/* Low Rate TTMB VLC Table (Table 56)
 * as specified in 7.1.3.10
 */
const uint16_t ff_vc1_low_rate_ttmb_codes[16] = {
      6,   0,  14,   5,   2,   3,   3,  15,
      2, 129,  33,   9, 257,  65,  17, 256
};

const uint8_t ff_vc1_low_rate_ttmb_bits[16] = {
      3,   3,   4,   5,   3,   3,   4,   4,
      2,  10,   8,   6,  11,   9,   7,  11
};

const uint8_t ff_vc1_low_rate_ttmb_symbols[16] = {
     15,  35,  44,  47,  69,  74,  79,  96,
     31,  51,  60,  63,  85,  90,  95, 112
};

/* High Rate TTBLK VLC Table (Table 62)
 * as specified in 7.1.4.16
 */
const uint8_t ff_vc1_high_rate_ttblk_codes[8] = {
     0,  1,  3,  5, 16, 17, 18, 19
};

const uint8_t ff_vc1_high_rate_ttblk_bits[8] = {
     2,  2,  2,  3,  5,  5,  5,  5
};

const uint8_t ff_vc1_high_rate_ttblk_symbols[8] = {
    47, 79, 15, 96, 44, 35, 69, 74
};

/* Medium Rate TTBLK VLC Table (Table 63)
 * as specified in 7.1.4.16
 */
const uint8_t ff_vc1_med_rate_ttblk_codes[8] = {
     3,  0,  1,  2,  3,  5,  8,  9
};

const uint8_t ff_vc1_med_rate_ttblk_bits[8] = {
     2,  3,  3,  3,  3,  3,  4,  4
};

const uint8_t ff_vc1_med_rate_ttblk_symbols[8] = {
    15, 69, 74, 96, 47, 79, 35, 44
};

/* Low Rate TTBLK VLC Table (Table 64)
 * as specified in 7.1.4.16
 */
const uint8_t ff_vc1_low_rate_ttblk_codes[8] = {
     1,  0,  1,  4,  6,  7, 10, 11
};

const uint8_t ff_vc1_low_rate_ttblk_bits[8] = {
     2,  3,  3,  3,  3,  3,  4,  4
};

const uint8_t ff_vc1_low_rate_ttblk_symbols[8] = {
    15, 79, 96, 35, 69, 74, 47, 44
};

/* High Rate SUBBLKPAT VLC Table (Table 65)
 * as specified in 7.1.4.17
 */
const uint8_t ff_vc1_high_rate_subblkpat_codes[15] = {
    14, 12,  7, 11,  9, 26,  2, 10, 27,  8,  0,  6,  1, 15,  1
};

const uint8_t ff_vc1_high_rate_subblkpat_bits[15] = {
     5,  5,  5,  5,  5,  6,  4,  5,  6,  5,  4,  5,  4,  5,  1
};

/* Medium Rate SUBBLKPAT VLC Table (Table 66)
 * as specified in 7.1.4.17
 */
const uint8_t ff_vc1_med_rate_subblkpat_codes[15] = {
    14,  0,  8, 15, 10,  4, 23, 13,  5,  9, 25,  3, 24, 22,  1
};

const uint8_t ff_vc1_med_rate_subblkpat_bits[15] = {
     4,  3,  4,  4,  4,  5,  5,  4,  5,  4,  5,  4,  5,  5,  2
};

/* Low Rate SUBBLKPAT VLC Table (Table 67)
 * as specified in 7.1.4.17
 */
const uint8_t ff_vc1_low_rate_subblkpat_codes[15] = {
     5,  6,  2,  2,  8,  0, 28,  3,  1,  3, 29,  1, 19, 18, 15
};

const uint8_t ff_vc1_low_rate_subblkpat_bits[15] = {
     3,  3,  4,  3,  4,  5,  5,  3,  5,  4,  5,  4,  5,  5,  4
};

/* MQUANT to DCStepSize as specified in 8.1.3.3 */
const int8_t ff_vc1_dc_scale_table[32] = {
     0,  2,  4,  8,  8,  8,  9,  9, 10, 10, 11, 11, 12, 12, 13, 13,
    14, 14, 15, 15, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21
};

/* AC Coding Sets (Tables 71 & 72) as specified in 8.1.3.4
 * VC1ACCodingSet ff_vc1_ac_coding_set[CodingSet][PictureComponent]
 */
const VC1ACCodingSet ff_vc1_ac_coding_set[CS_MAX][COMPONENT_MAX] = {
    {
        {
            .index_vlc = NULL,
            .delta_level_table = vc1_high_rate_intra_delta_level_table,
            .delta_run_table = vc1_high_rate_intra_delta_run_table,
            .delta_level_idx_of_last = 15,
            .delta_run_idx_of_last = 57,
            .max_depth = 2
        },
        {
            .index_vlc = NULL,
            .delta_level_table = vc1_high_rate_inter_delta_level_table,
            .delta_run_table = vc1_high_rate_inter_delta_run_table,
            .delta_level_idx_of_last = 25,
            .delta_run_idx_of_last = 33,
            .max_depth = 3
        }
    },
    {
        {
            .index_vlc = NULL,
            .delta_level_table = vc1_low_motion_intra_delta_level_table,
            .delta_run_table = vc1_low_motion_intra_delta_run_table,
            .delta_level_idx_of_last = 21,
            .delta_run_idx_of_last = 17,
            .max_depth = 2
        },
        {
            .index_vlc = NULL,
            .delta_level_table = vc1_low_motion_inter_delta_level_table,
            .delta_run_table = vc1_low_motion_inter_delta_run_table,
            .delta_level_idx_of_last = 30,
            .delta_run_idx_of_last = 15,
            .max_depth = 2
        }
    },
    {
        {
            .index_vlc = NULL,
            .delta_level_table = vc1_high_motion_intra_delta_level_table,
            .delta_run_table = vc1_high_motion_intra_delta_run_table,
            .delta_level_idx_of_last = 31,
            .delta_run_idx_of_last = 20,
            .max_depth = 2
        },
        {
            .index_vlc = NULL,
            .delta_level_table = vc1_high_motion_inter_delta_level_table,
            .delta_run_table = vc1_high_motion_inter_delta_run_table,
            .delta_level_idx_of_last = 27,
            .delta_run_idx_of_last = 24,
            .max_depth = 2
        }
    },
    {
        {
            .index_vlc = NULL,
            .delta_level_table = vc1_mid_rate_intra_delta_level_table,
            .delta_run_table = vc1_mid_rate_intra_delta_run_table,
            .delta_level_idx_of_last = 15,
            .delta_run_idx_of_last = 28,
            .max_depth = 2
        },
        {
            .index_vlc = NULL,
            .delta_level_table = vc1_mid_rate_inter_delta_level_table,
            .delta_run_table = vc1_mid_rate_inter_delta_run_table,
            .delta_level_idx_of_last = 27,
            .delta_run_idx_of_last = 13,
            .max_depth = 2
        }
    }
};

/* DQScale (Table 74) as specified in 8.1.3.9
 * identical to (int32_t)round(262144.0 / i)
 */
const int32_t ff_vc1_dqscale[64] = {
        0, 262144, 131072, 87381, 65536, 52429, 43691, 37449,
    32768,  29127,  26214, 23831, 21845, 20165, 18725, 17476,
    16384,  15420,  14564, 13797, 13107, 12483, 11916, 11398,
    10923,  10486,  10082,  9709,  9362,  9039,  8738,  8456,
     8192,   7944,   7710,  7490,  7282,  7085,  6899,  6722,
     6554,   6394,   6242,  6096,  5958,  5825,  5699,  5578,
     5461,   5350,   5243,  5140,  5041,  4946,  4855,  4766,
     4681,   4599,   4520,  4443,  4369,  4297,  4228,  4161
};

/* I-Picture CBPCY VLC Table (Table 168)
 * as specified in 11.5
 */
const uint16_t ff_vc1_i_cbpcy_codes[64] = {
       1,   23,    9,    5,    6,   71,   32,   16,
       2,  124,   58,   29,    2,  236,  119,    0,
       3,  183,   44,   19,    1,  360,   70,   63,
      30, 1810,  181,   66,   34,  453,  286,  135,
       6,    3,   30,   28,   18,  904,   68,  112,
      31,  574,   57,  142,    1,  454,  182,   69,
      20,  575,  125,   24,    7,  455,  134,   25,
      21,  475,    2,   70,   13, 1811,  474,  361
};

const uint8_t ff_vc1_i_cbpcy_bits[64] = {
       1,    6,    5,    5,    5,    9,    7,    7,
       5,    9,    7,    7,    6,    9,    8,    8,
       5,    9,    7,    7,    6,   10,    8,    8,
       6,   13,    9,    8,    7,   11,   10,    9,
       4,    9,    7,    6,    7,   12,    9,    9,
       6,   11,    8,    9,    7,   11,    9,    9,
       6,   11,    9,    9,    7,   11,    9,    9,
       6,   10,    9,    9,    8,   13,   10,   10
};

/* P and B-Picture CBPCY VLC Table 0 (Table 169)
 * as specified in 11.6
 */
const uint8_t ff_vc1_p_cbpcy_0_codes[64] = {
      0,   6,  15,  13,  13,  11,   3,  13,
      5,   8,  49,  10,  12, 114, 102, 119,
      1,  54,  96,   8,  10, 111,   5,  15,
     12,  10,   2,  12,  13, 115,  53,  63,
      1,   7,   1,   7,  14,  12,   4,  14,
      1,   9,  97,  11,   7,  58,  52,  62,
      4, 103,   1,   9,  11,  56, 101, 118,
      4, 110, 100,  30,   2,   5,   4,   3
};

const uint8_t ff_vc1_p_cbpcy_0_bits[64] = {
     13,  13,   7,  13,   7,  13,  13,  12,
      6,  13,   7,  12,   6,   8,   8,   8,
      5,   7,   8,  12,   6,   8,  13,  12,
      7,  13,  13,  12,   6,   8,   7,   7,
      6,  13,   8,  12,   7,  13,  13,  12,
      7,  13,   8,  12,   5,   7,   7,   7,
      6,   8,  13,  12,   6,   7,   8,   8,
      5,   8,   8,   6,   3,   3,   3,   2
};

/* P and B-Picture CBPCY VLC Table 1 (Table 170)
 * as specified in 11.6
 */
const uint8_t ff_vc1_p_cbpcy_1_codes[64] = {
      0,   9,   1,  18,   5,  14, 237,  26,
      3, 121,   3,  22,  13,  16,   6,  30,
      2,  10,   1,  20,  12, 241,   5,  28,
     16,  12,   3,  24,  28, 124, 239, 247,
      1, 240,   1,  19,  18,  15,   4,  27,
      1, 122,   2,  23,   1,  17,   7,  31,
      1,  11,   2,  21,  19, 246, 238,  29,
     17,  13, 236,  25,  58,  63,   8, 125
};

const uint8_t ff_vc1_p_cbpcy_1_bits[64] = {
     14,  13,   8,  13,   3,  13,   8,  13,
      3,   7,   8,  13,   4,  13,  13,  13,
      3,  13,  13,  13,   4,   8,  13,  13,
      5,  13,  13,  13,   5,   7,   8,   8,
      3,   8,  14,  13,   5,  13,  13,  13,
      4,   7,  13,  13,   6,  13,  13,  13,
      5,  13,   8,  13,   5,   8,   8,  13,
      5,  13,   8,  13,   6,   6,  13,   7
};

/* P and B-Picture CBPCY VLC Table 2 (Table 171)
 * as specified in 11.6
 */
const uint16_t ff_vc1_p_cbpcy_2_codes[64] = {
      0, 201,  25, 231,   5, 221,   1,   3,
      2, 414,   2, 241,  16, 225, 195, 492,
      2, 412,   1, 240,   7, 224,  98, 245,
      1, 220,  96,   5,   9, 230, 101, 247,
      1, 102,   1, 415,  24,   3,   2, 244,
      3,  54,   3, 484,  17, 114, 200, 493,
      3, 413,   1,   4,  13, 113,  99, 485,
      4, 111, 194, 243,   5,  29,  26,  31
};

const uint8_t ff_vc1_p_cbpcy_2_bits[64] = {
     13,   8,   6,   8,   4,   8,  13,  12,
      4,   9,   8,   8,   5,   8,   8,   9,
      5,   9,  10,   8,   4,   8,   7,   8,
      6,   8,   7,  13,   4,   8,   7,   8,
      5,   7,   8,   9,   6,  13,  13,   8,
      4,   6,   8,   9,   5,   7,   8,   9,
      5,   9,   9,  13,   5,   7,   7,   9,
      4,   7,   8,   8,   3,   5,   5,   5
};

/* P and B-Picture CBPCY VLC Table 3 (Table 172)
 * as specified in 11.6
 */
const uint8_t ff_vc1_p_cbpcy_3_codes[64] = {
      0,  28,  12,  44,   3,  36,  20,  52,
      2,  32,  16,  48,   8,  40,  24,  28,
      1,  30,  14,  46,   6,  38,  22,  54,
      3,  34,  18,  50,  10,  42,  26,  30,
      1,  29,  13,  45,   5,  37,  21,  53,
      2,  33,  17,  49,   9,  41,  25,  29,
      1,  31,  15,  47,   7,  39,  23,  55,
      4,  35,  19,  51,  11,  43,  27,  31
};

const uint8_t ff_vc1_p_cbpcy_3_bits[64] = {
      9,   9,   9,   9,   2,   9,   9,   9,
      2,   9,   9,   9,   9,   9,   9,   8,
      3,   9,   9,   9,   9,   9,   9,   9,
      9,   9,   9,   9,   9,   9,   9,   8,
      2,   9,   9,   9,   9,   9,   9,   9,
      9,   9,   9,   9,   9,   9,   9,   8,
      9,   9,   9,   9,   9,   9,   9,   9,
      9,   9,   9,   9,   9,   9,   9,   8
};

/* Low-motion Luma DC Differential VLC Table (Table 173)
 * as specified in 11.7.1
 */
const uint32_t ff_vc1_low_motion_luma_dc_codes[120] = {
         1,      1,      1,      1,      5,      7,      8,     12,
         0,      2,     18,     26,      3,      7,     39,     55,
         5,     76,    108,    109,      8,     25,    155,     27,
       154,     19,     52,     53,     97,     72,    196,     74,
       198,    199,    146,    395,    147,    387,    386,    150,
       151,    384,    788,    789,   1541,   1540,   1542,   3086,
    197581, 197577, 197576, 197578, 197579, 197580, 197582, 197583,
    197584, 197585, 197586, 197587, 197588, 197589, 197590, 197591,
    197592, 197593, 197594, 197595, 197596, 197597, 197598, 197599,
    197600, 197601, 197602, 197603, 197604, 197605, 197606, 197607,
    197608, 197609, 197610, 197611, 197612, 197613, 197614, 197615,
    197616, 197617, 197618, 197619, 197620, 197621, 197622, 197623,
    197624, 197625, 197626, 197627, 197628, 197629, 197630, 197631,
    395136, 395137, 395138, 395139, 395140, 395141, 395142, 395143,
    395144, 395145, 395146, 395147, 395148, 395149, 395150, 395151
};

const uint8_t ff_vc1_low_motion_luma_dc_bits[120] = {
          1,       2,       4,       5,       5,       5,       6,       6,
          7,       7,       7,       7,       8,       8,       8,       8,
          9,       9,       9,       9,      10,      10,      10,      10,
         10,      11,      11,      11,      12,      13,      13,      13,
         13,      13,      14,      14,      14,      14,      14,      14,
         14,      14,      15,      15,      16,      16,      16,      17,
         23,      23,      23,      23,      23,      23,      23,      23,
         23,      23,      23,      23,      23,      23,      23,      23,
         23,      23,      23,      23,      23,      23,      23,      23,
         23,      23,      23,      23,      23,      23,      23,      23,
         23,      23,      23,      23,      23,      23,      23,      23,
         23,      23,      23,      23,      23,      23,      23,      23,
         23,      23,      23,      23,      23,      23,      23,      23,
         24,      24,      24,      24,      24,      24,      24,      24,
         24,      24,      24,      24,      24,      24,      24,      24
};

/* Low-motion Color-difference DC Differential VLC Table (Table 174)
 * as specified in 11.7.1
 */
const uint32_t ff_vc1_low_motion_chroma_dc_codes[120] = {
          0,       1,       5,       9,      13,      17,      29,      31,
         33,      49,      56,      51,      57,      61,      97,     121,
        128,     200,     202,     240,     129,     192,     201,     263,
        262,     406,     387,     483,     482,     522,     523,    1545,
       1042,    1043,    1547,    1041,    1546,    1631,    1040,    1629,
       1630,    3256,    3088,    3257,    6179,   12357,   24713,   49424,
    3163208, 3163209, 3163210, 3163211, 3163212, 3163213, 3163214, 3163215,
    3163216, 3163217, 3163218, 3163219, 3163220, 3163221, 3163222, 3163223,
    3163224, 3163225, 3163226, 3163227, 3163228, 3163229, 3163230, 3163231,
    3163232, 3163233, 3163234, 3163235, 3163236, 3163237, 3163238, 3163239,
    3163240, 3163241, 3163242, 3163243, 3163244, 3163245, 3163246, 3163247,
    3163248, 3163249, 3163250, 3163251, 3163252, 3163253, 3163254, 3163255,
    3163256, 3163257, 3163258, 3163259, 3163260, 3163261, 3163262, 3163263,
    6326400, 6326401, 6326402, 6326403, 6326404, 6326405, 6326406, 6326407,
    6326408, 6326409, 6326410, 6326411, 6326412, 6326413, 6326414, 6326415
};

const uint8_t ff_vc1_low_motion_chroma_dc_bits[120] = {
         2,      2,      3,      4,      4,      5,      5,      5,
         6,      6,      6,      6,      6,      6,      7,      7,
         8,      8,      8,      8,      8,      8,      8,      9,
         9,      9,      9,      9,      9,     10,     10,     11,
        11,     11,     11,     11,     11,     11,     11,     11,
        11,     12,     12,     12,     13,     14,     15,     16,
        22,     22,     22,     22,     22,     22,     22,     22,
        22,     22,     22,     22,     22,     22,     22,     22,
        22,     22,     22,     22,     22,     22,     22,     22,
        22,     22,     22,     22,     22,     22,     22,     22,
        22,     22,     22,     22,     22,     22,     22,     22,
        22,     22,     22,     22,     22,     22,     22,     22,
        22,     22,     22,     22,     22,     22,     22,     22,
        23,     23,     23,     23,     23,     23,     23,     23,
        23,     23,     23,     23,     23,     23,     23,     23
};

/* High-motion Luma DC Differential VLC Table (Table 175)
 * as specified in 11.7.2
 */
const uint32_t ff_vc1_high_motion_luma_dc_codes[120] = {
          2,       3,       3,       2,       5,       1,       3,       8,
          0,       5,      13,      15,      19,       8,      24,      28,
         36,       4,       6,      18,      50,      59,      74,      75,
         11,      38,      39,     102,     116,     117,      20,      28,
         31,      29,      43,      61,     413,     415,      84,     825,
        824,     829,     171,     241,    1656,     242,     480,     481,
        340,    3314,     972,     683,    6631,     974,    6630,    1364,
       1951,    1365,    3901,    3895,    3900,    3893,    7789,    7784,
      15576,   15571,   15577,   31140,  996538,  996532,  996533,  996534,
     996535,  996536,  996537,  996539,  996540,  996541,  996542,  996543,
    1993024, 1993025, 1993026, 1993027, 1993028, 1993029, 1993030, 1993031,
    1993032, 1993033, 1993034, 1993035, 1993036, 1993037, 1993038, 1993039,
    1993040, 1993041, 1993042, 1993043, 1993044, 1993045, 1993046, 1993047,
    1993048, 1993049, 1993050, 1993051, 1993052, 1993053, 1993054, 1993055,
    1993056, 1993057, 1993058, 1993059, 1993060, 1993061, 1993062, 1993063
};

const uint8_t ff_vc1_high_motion_luma_dc_bits[120] = {
          2,       2,       3,       4,       4,       5,       5,       5,
          6,       6,       6,       6,       6,       7,       7,       7,
          7,       8,       8,       8,       8,       8,       8,       8,
          9,       9,       9,       9,       9,       9,      10,      10,
         10,      10,      11,      11,      11,      11,      12,      12,
         12,      12,      13,      13,      13,      13,      14,      14,
         14,      14,      15,      15,      15,      15,      15,      16,
         16,      16,      17,      17,      17,      17,      18,      18,
         19,      19,      19,      20,      25,      25,      25,      25,
         25,      25,      25,      25,      25,      25,      25,      25,
         26,      26,      26,      26,      26,      26,      26,      26,
         26,      26,      26,      26,      26,      26,      26,      26,
         26,      26,      26,      26,      26,      26,      26,      26,
         26,      26,      26,      26,      26,      26,      26,      26,
         26,      26,      26,      26,      26,      26,      26,      26
};

/* High-motion Color-difference DC Differential VLC Table (Table 176)
 * as specified in 11.7.2
 */
const uint32_t ff_vc1_high_motion_chroma_dc_codes[120] = {
           0,        1,        4,        7,       11,       13,       21,       40,
          48,       50,       82,       98,      102,      166,      198,      207,
         335,      398,      412,      669,      826,     1336,     1596,     1598,
        1599,     1654,     2675,     3194,     3311,     5349,     6621,    10696,
       10697,    25565,    13240,    13241,    51126,    25560,    25567,    51123,
       51124,    51125,    25566,    51127,    51128,    51129,   102245,   204488,
    13087304, 13087305, 13087306, 13087307, 13087308, 13087309, 13087310, 13087311,
    13087312, 13087313, 13087314, 13087315, 13087316, 13087317, 13087318, 13087319,
    13087320, 13087321, 13087322, 13087323, 13087324, 13087325, 13087326, 13087327,
    13087328, 13087329, 13087330, 13087331, 13087332, 13087333, 13087334, 13087335,
    13087336, 13087337, 13087338, 13087339, 13087340, 13087341, 13087342, 13087343,
    13087344, 13087345, 13087346, 13087347, 13087348, 13087349, 13087350, 13087351,
    13087352, 13087353, 13087354, 13087355, 13087356, 13087357, 13087358, 13087359,
    26174592, 26174593, 26174594, 26174595, 26174596, 26174597, 26174598, 26174599,
    26174600, 26174601, 26174602, 26174603, 26174604, 26174605, 26174606, 26174607
};

const uint8_t ff_vc1_high_motion_chroma_dc_bits[120] = {
           2,        2,        3,        3,        4,        4,        5,        6,
           6,        6,        7,        7,        7,        8,        8,        8,
           9,        9,        9,       10,       10,       11,       11,       11,
          11,       11,       12,       12,       12,       13,       13,       14,
          14,       15,       14,       14,       16,       15,       15,       16,
          16,       16,       15,       16,       16,       16,       17,       18,
          24,       24,       24,       24,       24,       24,       24,       24,
          24,       24,       24,       24,       24,       24,       24,       24,
          24,       24,       24,       24,       24,       24,       24,       24,
          24,       24,       24,       24,       24,       24,       24,       24,
          24,       24,       24,       24,       24,       24,       24,       24,
          24,       24,       24,       24,       24,       24,       24,       24,
          24,       24,       24,       24,       24,       24,       24,       24,
          25,       25,       25,       25,       25,       25,       25,       25,
          25,       25,       25,       25,       25,       25,       25,       25
};

/* High-motion Intra VLC Table (Table 177)
 * as specified in 11.8.1
 */
const uint16_t ff_vc1_high_motion_intra_index_codes[188] = {
        1,     5,    13,    18,    14,    21,    19,    63,
       75,   287,   184,   995,   370,   589,   986,   733,
     8021,  1465, 16046,     0,    16,     8,    32,    41,
      500,   563,   480,   298,   989,  1290,  7977,  2626,
     4722,  5943,     3,    17,   196,    75,   180,  2004,
      837,   727,  1983,  2360,  3003,  2398,    19,   120,
      105,   562,  1121,  1004,  1312,  7978, 15952, 15953,
     5254,    12,    36,   148,  2240,  3849,  7920,    61,
       83,   416,   726,  3848,    19,   124,  1985,  1196,
       27,   160,   836,  3961,   121,   993,   724,  8966,
       33,   572,  4014,  9182,    53,   373,  1971,   197,
      372,  1925,    72,   419,  1182,    44,   250,  2006,
      146,  1484,  7921,   163,  1005,  2366,   482,  4723,
     1988,  5255,   657,   659,  3978,  1289,  1288,  1933,
     1982,  1932,  1198,  3002,  8967,  2970,  5942,    14,
       69,   499,  1146,  1500,  9183,    25,    40,   374,
     1181,  9181,    48,   162,   751,  1464,    63,   165,
      987,  2367,    68,  1995,  2399,    99,   963,    21,
     2294,    23,  1176,    44,  1970,    47,  8020,   141,
     1981,   142,  4482,   251,  1291,    45,  1984,   121,
     8031,   122,  8022,   561,   996,   417,   323,   503,
      367,   658,   743,   364,   365,   988,  3979,  1177,
      984,  1934,   725,  8030,  7979,  1935,  1197, 16047,
     9180, (74 << 1) + 1, (74 << 2) + 1, (74 << 2)
};

const uint8_t ff_vc1_high_motion_intra_index_bits[188] = {
        2,     3,     4,     5,     6,     7,     8,     8,
        9,     9,    10,    10,    11,    12,    12,    13,
       13,    14,    14,     4,     5,     7,     8,     9,
        9,    10,    11,    12,    12,    13,    13,    14,
       15,    15,     5,     7,     8,    10,    11,    11,
       12,    13,    13,    14,    14,    15,     5,     7,
        9,    10,    11,    12,    13,    13,    14,    14,
       15,     6,     9,    11,    12,    14,    15,     6,
        9,    11,    13,    14,     7,     9,    11,    14,
        7,    10,    12,    14,     7,    10,    13,    14,
        8,    10,    12,    14,     8,    11,    13,     8,
       11,    13,     9,    11,    13,     9,    10,    11,
       10,    13,    15,    10,    12,    14,    11,    15,
       11,    15,    12,    12,    12,    13,    13,    13,
       13,    13,    14,    14,    14,    14,    15,     4,
        7,     9,    11,    13,    14,     5,     9,    11,
       13,    14,     6,    10,    12,    14,     6,    10,
       12,    14,     7,    11,    15,     7,    12,     8,
       12,     8,    13,     8,    13,     8,    13,     8,
       13,     8,    13,     8,    13,     8,    11,     9,
       13,     9,    13,    10,    10,    11,    11,    11,
       12,    12,    12,    12,    12,    12,    12,    13,
       12,    13,    13,    13,    13,    13,    14,    14,
       14,    10,    11,    11
};

const uint16_t ff_vc1_high_motion_intra_index_symbols[188] = {
       64,   128,   192,   256,   320,   384,   448,   512,
      576,   640,   704,   768,   832,   896,   960,  1024,
     1088,  1152,  1216,    65,   129,   193,   257,   321,
      385,   449,   513,   577,   641,   705,   769,   833,
      897,   961,    66,   130,   194,   258,   322,   386,
      450,   514,   578,   642,   706,   770,    67,   131,
      195,   259,   323,   387,   451,   515,   579,   643,
      707,    68,   132,   196,   260,   324,   388,    69,
      133,   197,   261,   325,    70,   134,   198,   262,
       71,   135,   199,   263,    72,   136,   200,   264,
       73,   137,   201,   265,    74,   138,   202,    75,
      139,   203,    76,   140,   204,    77,   141,   205,
       78,   142,   206,    79,   143,   207,    80,   144,
       81,   145,    82,    83,    84,    85,    86,    87,
       88,    89,    90,    91,    92,    93,    94,  4160,
     4224,  4288,  4352,  4416,  4480,  4161,  4225,  4289,
     4353,  4417,  4162,  4226,  4290,  4354,  4163,  4227,
     4291,  4355,  4164,  4228,  4292,  4165,  4229,  4166,
     4230,  4167,  4231,  4168,  4232,  4169,  4233,  4170,
     4234,  4171,  4235,  4172,  4236,  4173,  4237,  4174,
     4238,  4175,  4239,  4176,  4177,  4178,  4179,  4180,
     4181,  4182,  4183,  4184,  4185,  4186,  4187,  4188,
     4189,  4190,  4191,  4192,  4193,  4194,  4195,  4196,
     4197, (1 << 13), (2 << 13), (3 << 13)
};

/* High-motion Intra Run and Level Table (Tables 178 & 179)
 * as specified in 11.8.1
 */
const int8_t vc1_high_motion_intra_run_level_table[185][2] = {
    {  0,  1 }, {  0,  2 }, {  0,  3 }, {  0,  4 }, {  0,  5 }, {  0,  6 }, {  0,  7 }, {  0,  8 },
    {  0,  9 }, {  0, 10 }, {  0, 11 }, {  0, 12 }, {  0, 13 }, {  0, 14 }, {  0, 15 }, {  0, 16 },
    {  0, 17 }, {  0, 18 }, {  0, 19 }, {  1,  1 }, {  1,  2 }, {  1,  3 }, {  1,  4 }, {  1,  5 },
    {  1,  6 }, {  1,  7 }, {  1,  8 }, {  1,  9 }, {  1, 10 }, {  1, 11 }, {  1, 12 }, {  1, 13 },
    {  1, 14 }, {  1, 15 }, {  2,  1 }, {  2,  2 }, {  2,  3 }, {  2,  4 }, {  2,  5 }, {  2,  6 },
    {  2,  7 }, {  2,  8 }, {  2,  9 }, {  2, 10 }, {  2, 11 }, {  2, 12 }, {  3,  1 }, {  3,  2 },
    {  3,  3 }, {  3,  4 }, {  3,  5 }, {  3,  6 }, {  3,  7 }, {  3,  8 }, {  3,  9 }, {  3, 10 },
    {  3, 11 }, {  4,  1 }, {  4,  2 }, {  4,  3 }, {  4,  4 }, {  4,  5 }, {  4,  6 }, {  5,  1 },
    {  5,  2 }, {  5,  3 }, {  5,  4 }, {  5,  5 }, {  6,  1 }, {  6,  2 }, {  6,  3 }, {  6,  4 },
    {  7,  1 }, {  7,  2 }, {  7,  3 }, {  7,  4 }, {  8,  1 }, {  8,  2 }, {  8,  3 }, {  8,  4 },
    {  9,  1 }, {  9,  2 }, {  9,  3 }, {  9,  4 }, { 10,  1 }, { 10,  2 }, { 10,  3 }, { 11,  1 },
    { 11,  2 }, { 11,  3 }, { 12,  1 }, { 12,  2 }, { 12,  3 }, { 13,  1 }, { 13,  2 }, { 13,  3 },
    { 14,  1 }, { 14,  2 }, { 14,  3 }, { 15,  1 }, { 15,  2 }, { 15,  3 }, { 16,  1 }, { 16,  2 },
    { 17,  1 }, { 17,  2 }, { 18,  1 }, { 19,  1 }, { 20,  1 }, { 21,  1 }, { 22,  1 }, { 23,  1 },
    { 24,  1 }, { 25,  1 }, { 26,  1 }, { 27,  1 }, { 28,  1 }, { 29,  1 }, { 30,  1 }, {  0,  1 },
    {  0,  2 }, {  0,  3 }, {  0,  4 }, {  0,  5 }, {  0,  6 }, {  1,  1 }, {  1,  2 }, {  1,  3 },
    {  1,  4 }, {  1,  5 }, {  2,  1 }, {  2,  2 }, {  2,  3 }, {  2,  4 }, {  3,  1 }, {  3,  2 },
    {  3,  3 }, {  3,  4 }, {  4,  1 }, {  4,  2 }, {  4,  3 }, {  5,  1 }, {  5,  2 }, {  6,  1 },
    {  6,  2 }, {  7,  1 }, {  7,  2 }, {  8,  1 }, {  8,  2 }, {  9,  1 }, {  9,  2 }, { 10,  1 },
    { 10,  2 }, { 11,  1 }, { 11,  2 }, { 12,  1 }, { 12,  2 }, { 13,  1 }, { 13,  2 }, { 14,  1 },
    { 14,  2 }, { 15,  1 }, { 15,  2 }, { 16,  1 }, { 17,  1 }, { 18,  1 }, { 19,  1 }, { 20,  1 },
    { 21,  1 }, { 22,  1 }, { 23,  1 }, { 24,  1 }, { 25,  1 }, { 26,  1 }, { 27,  1 }, { 28,  1 },
    { 29,  1 }, { 30,  1 }, { 31,  1 }, { 32,  1 }, { 33,  1 }, { 34,  1 }, { 35,  1 }, { 36,  1 },
    { 37,  1 }
};

/* High-motion Intra Delta Level Table (Tables 180 & 181)
 * as specified in 11.8.1
 */
const int8_t vc1_high_motion_intra_delta_level_table[69] = {
    19, 15, 12, 11,  6,  5,  4,  4,  4,  4,  3,  3,  3,  3,  3,  3,
     2,  2,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  6,
     5,  4,  4,  3,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  1,
     1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1
};

/* High-motion Intra Delta Run Table (Tables 182 & 183)
 * as specified in 11.8.1
 */
const int8_t vc1_high_motion_intra_delta_run_table[27] = {
     0, 30, 17, 15,  9,  5,  4,  3,  3,  3,  3,  3,  2,  1,  1,  1,
     0,  0,  0,  0,  0, 37, 15,  4,  3,  1,  0
};

/* High-motion Inter VLC Table (Table 184)
 * as specified in 11.8.1
 */
const uint16_t ff_vc1_high_motion_inter_index_codes[171] = {
        0,     3,    11,    20,    63,    93,   162,   172,
      366,   522,   738,  1074,  1481,  2087,  2900,  1254,
     4191,  5930,  8370, 11598, 14832, 16757, 23198,     4,
       30,    66,   182,   371,   917,  1838,  2964,  5796,
     8371, 11845,     5,    64,    73,   655,  1483,  1162,
     2525, 29666,    24,    37,   138,  1307,  3679,  2505,
     5020,    41,    79,  1042,  1165, 11841,    56,   270,
     1448,  4188, 14834,    88,   543,  3710, 14847,    35,
      739,  1253, 11840,   161,  1470,  2504,   131,   314,
     5921,    68,   630, 14838,   139,  1263, 23195,   520,
     7422,   921,  7348,   926, 14835,  1451, 29667,  1847,
    23199,  2093,  3689,  3688,  1075,  2939, 11768, 11862,
    11863, 14839, 20901,     3,    42,   228,   654,  1845,
     4184,  7418, 11769, 16756,     9,    84,   920,  1163,
     5021,    13,   173,  2086, 11596,    17,   363,  2943,
    20900,    25,   539,  5885,    29,   916, 10451,    43,
     1468, 23194,    47,   583,    16,  2613,    62,  2938,
       89,  4190,    38,  2511,    85,  7349,    87,  3675,
      160,  5224,   368,   144,   462,   538,   536,   360,
      542,   580,  1846,   312,  1305,  3678,  1836,  2901,
     2524,  8379,  1164,  5923, 11844,  5797,  1304, 14846,
    (361 << 1) + 1, (361 << 2) + 1, (361 << 2)
};

const uint8_t ff_vc1_high_motion_inter_index_bits[171] = {
        3,     4,     5,     6,     6,     7,     8,     9,
        9,    10,    10,    11,    11,    12,    12,    13,
       13,    13,    14,    14,    14,    15,    15,     4,
        5,     7,     8,     9,    10,    11,    12,    13,
       14,    14,     5,     7,     9,    10,    11,    13,
       14,    15,     5,     8,    10,    11,    12,    14,
       15,     6,     9,    11,    13,    14,     6,     9,
       11,    13,    14,     7,    10,    12,    14,     8,
       10,    13,    14,     8,    11,    14,     8,    11,
       13,     9,    12,    14,    10,    13,    15,    10,
       13,    10,    13,    10,    14,    11,    15,    11,
       15,    12,    12,    12,    11,    12,    14,    14,
       14,    14,    15,     3,     6,     8,    10,    11,
       13,    13,    14,    15,     4,     8,    10,    13,
       15,     4,     9,    12,    14,     5,     9,    12,
       15,     5,    10,    13,     5,    10,    14,     6,
       11,    15,     6,    12,     7,    12,     6,    12,
        7,    13,     8,    14,     8,    13,     8,    12,
        8,    13,     9,    10,     9,    10,    10,     9,
       10,    12,    11,    11,    11,    12,    11,    12,
       14,    14,    13,    13,    14,    13,    11,    14,
       10,    11,    11
};

const uint16_t ff_vc1_high_motion_inter_index_symbols[171] = {
       64,   128,   192,   256,   320,   384,   448,   512,
      576,   640,   704,   768,   832,   896,   960,  1024,
     1088,  1152,  1216,  1280,  1344,  1408,  1472,    65,
      129,   193,   257,   321,   385,   449,   513,   577,
      641,   705,    66,   130,   194,   258,   322,   386,
      450,   514,    67,   131,   195,   259,   323,   387,
      451,    68,   132,   196,   260,   324,    69,   133,
      197,   261,   325,    70,   134,   198,   262,    71,
      135,   199,   263,    72,   136,   200,    73,   137,
      201,    74,   138,   202,    75,   139,   203,    76,
      140,    77,   141,    78,   142,    79,   143,    80,
      144,    81,    82,    83,    84,    85,    86,    87,
       88,    89,    90,  4160,  4224,  4288,  4352,  4416,
     4480,  4544,  4608,  4672,  4161,  4225,  4289,  4353,
     4417,  4162,  4226,  4290,  4354,  4163,  4227,  4291,
     4355,  4164,  4228,  4292,  4165,  4229,  4293,  4166,
     4230,  4294,  4167,  4231,  4168,  4232,  4169,  4233,
     4170,  4234,  4171,  4235,  4172,  4236,  4173,  4237,
     4174,  4238,  4175,  4176,  4177,  4178,  4179,  4180,
     4181,  4182,  4183,  4184,  4185,  4186,  4187,  4188,
     4189,  4190,  4191,  4192,  4193,  4194,  4195,  4196,
    (1 << 13), (2 << 13), (3 << 13)
};

/* High-motion Inter Run and Level Table (Tables 185 & 186)
 * as specified in 11.8.1
 */
const int8_t vc1_high_motion_inter_run_level_table[168][2] = {
    {  0,  1 }, {  0,  2 }, {  0,  3 }, {  0,  4 }, {  0,  5 }, {  0,  6 }, {  0,  7 }, {  0,  8 },
    {  0,  9 }, {  0, 10 }, {  0, 11 }, {  0, 12 }, {  0, 13 }, {  0, 14 }, {  0, 15 }, {  0, 16 },
    {  0, 17 }, {  0, 18 }, {  0, 19 }, {  0, 20 }, {  0, 21 }, {  0, 22 }, {  0, 23 }, {  1,  1 },
    {  1,  2 }, {  1,  3 }, {  1,  4 }, {  1,  5 }, {  1,  6 }, {  1,  7 }, {  1,  8 }, {  1,  9 },
    {  1, 10 }, {  1, 11 }, {  2,  1 }, {  2,  2 }, {  2,  3 }, {  2,  4 }, {  2,  5 }, {  2,  6 },
    {  2,  7 }, {  2,  8 }, {  3,  1 }, {  3,  2 }, {  3,  3 }, {  3,  4 }, {  3,  5 }, {  3,  6 },
    {  3,  7 }, {  4,  1 }, {  4,  2 }, {  4,  3 }, {  4,  4 }, {  4,  5 }, {  5,  1 }, {  5,  2 },
    {  5,  3 }, {  5,  4 }, {  5,  5 }, {  6,  1 }, {  6,  2 }, {  6,  3 }, {  6,  4 }, {  7,  1 },
    {  7,  2 }, {  7,  3 }, {  7,  4 }, {  8,  1 }, {  8,  2 }, {  8,  3 }, {  9,  1 }, {  9,  2 },
    {  9,  3 }, { 10,  1 }, { 10,  2 }, { 10,  3 }, { 11,  1 }, { 11,  2 }, { 11,  3 }, { 12,  1 },
    { 12,  2 }, { 13,  1 }, { 13,  2 }, { 14,  1 }, { 14,  2 }, { 15,  1 }, { 15,  2 }, { 16,  1 },
    { 16,  2 }, { 17,  1 }, { 18,  1 }, { 19,  1 }, { 20,  1 }, { 21,  1 }, { 22,  1 }, { 23,  1 },
    { 24,  1 }, { 25,  1 }, { 26,  1 }, {  0,  1 }, {  0,  2 }, {  0,  3 }, {  0,  4 }, {  0,  5 },
    {  0,  6 }, {  0,  7 }, {  0,  8 }, {  0,  9 }, {  1,  1 }, {  1,  2 }, {  1,  3 }, {  1,  4 },
    {  1,  5 }, {  2,  1 }, {  2,  2 }, {  2,  3 }, {  2,  4 }, {  3,  1 }, {  3,  2 }, {  3,  3 },
    {  3,  4 }, {  4,  1 }, {  4,  2 }, {  4,  3 }, {  5,  1 }, {  5,  2 }, {  5,  3 }, {  6,  1 },
    {  6,  2 }, {  6,  3 }, {  7,  1 }, {  7,  2 }, {  8,  1 }, {  8,  2 }, {  9,  1 }, {  9,  2 },
    { 10,  1 }, { 10,  2 }, { 11,  1 }, { 11,  2 }, { 12,  1 }, { 12,  2 }, { 13,  1 }, { 13,  2 },
    { 14,  1 }, { 14,  2 }, { 15,  1 }, { 16,  1 }, { 17,  1 }, { 18,  1 }, { 19,  1 }, { 20,  1 },
    { 21,  1 }, { 22,  1 }, { 23,  1 }, { 24,  1 }, { 25,  1 }, { 26,  1 }, { 27,  1 }, { 28,  1 },
    { 29,  1 }, { 30,  1 }, { 31,  1 }, { 32,  1 }, { 33,  1 }, { 34,  1 }, { 35,  1 }, { 36,  1 }
};

/* High-motion Inter Delta Level Table (Tables 187 & 188)
 * as specified in 11.8.1
 */
const int8_t vc1_high_motion_inter_delta_level_table[64] = {
    23, 11,  8,  7,  5,  5,  4,  4,
     3,  3,  3,  3,  2,  2,  2,  2,
     2,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  9,  5,  4,  4,  3,
     3,  3,  2,  2,  2,  2,  2,  2,
     2,  2,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1
};

/* High-motion Inter Delta Run Table (Tables 189 & 190)
 * as specified in 11.8.1
 */
const int8_t vc1_high_motion_inter_delta_run_table[34] = {
     0, 26, 16, 11,  7,  5,  3,  3,
     2,  1,  1,  1,  0,  0,  0,  0,
     0,  0,  0,  0,  0,  0,  0,  0,
     0, 36, 14,  6,  3,  1,  0,  0,
     0,  0
};

/* Low-motion Intra VLC Table (Table 191)
 * as specified in 11.8.2
 */
const uint16_t ff_vc1_low_motion_intra_index_codes[135] = {
       1,    6,   15,   22,   32,   24,    8,  154,
      86,  318,  240,  933,  119,  495,  154,   93,
       1,   17,    2,   11,   18,  470,  638,  401,
     234,  988,  315,    4,   20,  158,    9,  428,
     482,  970,   95,   23,   78,   94,  243,  429,
     236, 1520,   14,  225,  932,  156,  317,   59,
      28,   20, 2494,    6,  122,  400,  311,   27,
       8, 1884,  113,  215, 2495,    7,  175, 1228,
      52,  613,  159,  224,   22,  807,   21,  381,
    3771,   20,  246,  484,  203, 2461,  202,  764,
     383, 1229,  765, 1278,  314,   10,   66,  467,
    1245,   18,  232,   76,  310,   57,  612, 3770,
       0,  174, 2460,   31, 1246,   67, 1244,    3,
     971,    6, 2462,   42, 1521,   15, 2558,   51,
    2559,  152, 2463,  234,  316,   46,  402,  310,
     106,   21,  943,  483,  116,  235,  761,   92,
     237,  989,  806,   94, (22 << 1) + 1, (22 << 2) + 1, (22 << 2)
};

const uint8_t ff_vc1_low_motion_intra_index_bits[135] = {
       2,    3,    4,    5,    6,    7,    8,    8,
       9,    9,   10,   10,   11,   11,   12,   13,
       4,    5,    7,    8,    9,    9,   10,   11,
      12,   12,   13,    5,    7,    8,   10,   11,
      11,   12,   13,    5,    7,    9,   10,   11,
      12,   13,    6,    8,   10,   12,   13,    6,
       9,   11,   12,    7,    9,   11,   13,    7,
      10,   11,    7,   10,   12,    8,   10,   11,
       8,   10,   12,    8,   11,   12,    9,   11,
      12,    9,   10,   11,   10,   12,   10,   12,
      11,   11,   12,   11,   13,    4,    7,    9,
      11,    5,    8,   11,   13,    6,   10,   12,
       7,   10,   12,    7,   11,    7,   11,    8,
      12,    8,   12,    8,   13,    8,   12,    8,
      12,    8,   12,    8,   13,    8,   11,    9,
       9,   11,   10,   11,   11,   12,   12,   13,
      12,   12,   12,   13,    8,    9,    9
};

const uint16_t ff_vc1_low_motion_intra_index_symbols[135] = {
      64,  128,  192,  256,  320,  384,  448,  512,
     576,  640,  704,  768,  832,  896,  960, 1024,
      65,  129,  193,  257,  321,  385,  449,  513,
     577,  641,  705,   66,  130,  194,  258,  322,
     386,  450,  514,   67,  131,  195,  259,  323,
     387,  451,   68,  132,  196,  260,  324,   69,
     133,  197,  261,   70,  134,  198,  262,   71,
     135,  199,   72,  136,  200,   73,  137,  201,
      74,  138,  202,   75,  139,  203,   76,  140,
     204,   77,  141,  205,   78,  142,   79,  143,
      80,   81,   82,   83,   84, 4160, 4224, 4288,
    4352, 4161, 4225, 4289, 4353, 4162, 4226, 4290,
    4163, 4227, 4291, 4164, 4228, 4165, 4229, 4166,
    4230, 4167, 4231, 4168, 4232, 4169, 4233, 4170,
    4234, 4171, 4235, 4172, 4236, 4173, 4237, 4174,
    4175, 4176, 4177, 4178, 4179, 4180, 4181, 4182,
    4183, 4184, 4185, 4186, (1 << 13), (2 << 13), (3 << 13)
};

/* Low-motion Intra Run and Level Table (Tables 192 & 193)
 * as specified in 11.8.2
 */
const int8_t vc1_low_motion_intra_run_level_table[132][2] = {
    {  0,  1 }, {  0,  2 }, {  0,  3 }, {  0,  4 }, {  0,  5 }, {  0,  6 }, {  0,  7 }, {  0,  8 },
    {  0,  9 }, {  0, 10 }, {  0, 11 }, {  0, 12 }, {  0, 13 }, {  0, 14 }, {  0, 15 }, {  0, 16 },
    {  1,  1 }, {  1,  2 }, {  1,  3 }, {  1,  4 }, {  1,  5 }, {  1,  6 }, {  1,  7 }, {  1,  8 },
    {  1,  9 }, {  1, 10 }, {  1, 11 }, {  2,  1 }, {  2,  2 }, {  2,  3 }, {  2,  4 }, {  2,  5 },
    {  2,  6 }, {  2,  7 }, {  2,  8 }, {  3,  1 }, {  3,  2 }, {  3,  3 }, {  3,  4 }, {  3,  5 },
    {  3,  6 }, {  3,  7 }, {  4,  1 }, {  4,  2 }, {  4,  3 }, {  4,  4 }, {  4,  5 }, {  5,  1 },
    {  5,  2 }, {  5,  3 }, {  5,  4 }, {  6,  1 }, {  6,  2 }, {  6,  3 }, {  6,  4 }, {  7,  1 },
    {  7,  2 }, {  7,  3 }, {  8,  1 }, {  8,  2 }, {  8,  3 }, {  9,  1 }, {  9,  2 }, {  9,  3 },
    { 10,  1 }, { 10,  2 }, { 10,  3 }, { 11,  1 }, { 11,  2 }, { 11,  3 }, { 12,  1 }, { 12,  2 },
    { 12,  3 }, { 13,  1 }, { 13,  2 }, { 13,  3 }, { 14,  1 }, { 14,  2 }, { 15,  1 }, { 15,  2 },
    { 16,  1 }, { 17,  1 }, { 18,  1 }, { 19,  1 }, { 20,  1 }, {  0,  1 }, {  0,  2 }, {  0,  3 },
    {  0,  4 }, {  1,  1 }, {  1,  2 }, {  1,  3 }, {  1,  4 }, {  2,  1 }, {  2,  2 }, {  2,  3 },
    {  3,  1 }, {  3,  2 }, {  3,  3 }, {  4,  1 }, {  4,  2 }, {  5,  1 }, {  5,  2 }, {  6,  1 },
    {  6,  2 }, {  7,  1 }, {  7,  2 }, {  8,  1 }, {  8,  2 }, {  9,  1 }, {  9,  2 }, { 10,  1 },
    { 10,  2 }, { 11,  1 }, { 11,  2 }, { 12,  1 }, { 12,  2 }, { 13,  1 }, { 13,  2 }, { 14,  1 },
    { 15,  1 }, { 16,  1 }, { 17,  1 }, { 18,  1 }, { 19,  1 }, { 20,  1 }, { 21,  1 }, { 22,  1 },
    { 23,  1 }, { 24,  1 }, { 25,  1 }, { 26,  1 }
};

/* Low-motion Intra Delta Level Table (Tables 194 & 195)
 * as specified in 11.8.2
 */
const int8_t vc1_low_motion_intra_delta_level_table[48] = {
    16, 11,  8,  7,  5,  4,  4,  3,
     3,  3,  3,  3,  3,  3,  2,  2,
     1,  1,  1,  1,  1,  4,  4,  3,
     3,  2,  2,  2,  2,  2,  2,  2,
     2,  2,  2,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1
};

/* Low-motion Intra Delta Run Table (Tables 196 & 197)
 * as specified in 11.8.2
 */
const int8_t vc1_low_motion_intra_delta_run_table[22] = {
     0, 20, 15, 13,  6,  4,  3,  3,
     2,  1,  1,  1,  0,  0,  0,  0,
     0,  0, 26, 13,  3,  1
};

/* Low-motion Inter VLC Table (Table 198)
 * as specified in 11.8.3
 */
const uint16_t ff_vc1_low_motion_inter_index_codes[151] = {
        4,    20,    23,   127,   340,   498,   191,   101,
     2730,  1584,  5527,   951, 11042,  3046,    11,    55,
       98,     7,   358,   206,  5520,  1526,  3047,     7,
      109,     3,   799,  1522,     2,    97,    85,   479,
       26,    30,  2761, 11043,    30,    31,  2755, 11051,
        6,     4,   760,    25,     6,  1597,    87,   386,
    10914,     4,   384,  1436,   125,   356,  1901,     2,
      397,  5505,   173,    96,  3175,    28,   238,     3,
      719,   217,  5504,     2,   387,    87,    97,    49,
      102,  1585,  1586,   172,   797,   118,    58,   357,
     3174,     3,    84,   683,    22,  1527,     5,   248,
     2729,    95,     4,    28,  5456,     4,   119,  1900,
       14,    10,    12,  1378,     4,   796,     6,   200,
       13,   474,     7,   201,     1,    46,    20,  5526,
       10,  2754,    22,   347,    21,   346,    15,    94,
      126,   171,    45,   216,    11,    20,   691,   499,
       58,     0,    88,    46,    94,  1379,   236,    84,
     2753,  5462,   762,   385,  5463,  1437, 10915, 11050,
      478,  1596,   207,  5524, (13 << 1) + 1, (13 << 2) + 1, (13 << 2)
};

const uint8_t ff_vc1_low_motion_inter_index_bits[151] = {
        3,     5,     7,     8,     9,    10,    11,    12,
       12,    13,    13,    14,    14,    15,     4,     7,
        9,    11,    12,    13,    13,    14,    15,     5,
        8,    11,    12,    14,     6,     9,    12,    14,
        6,    10,    12,    14,     6,    10,    12,    14,
        7,    11,    13,     7,    11,    13,     7,    11,
       14,     8,    11,    14,     8,    12,    15,     9,
       11,    13,     8,    12,    14,     9,    13,     9,
       13,     9,    13,    11,    11,    12,    12,    11,
       12,    13,    13,    13,    12,    12,    11,    12,
       14,     2,     7,    10,    13,    14,     4,     9,
       12,    15,     4,    10,    13,     5,    11,    15,
        5,    12,     5,    11,     6,    12,     6,    13,
        6,    13,     6,    13,     7,    14,     7,    13,
        7,    12,     7,    14,     7,    14,     8,    15,
        8,     8,     9,     9,     9,    10,    10,    10,
       10,    10,    10,     9,    10,    11,    12,    12,
       12,    13,    13,    11,    13,    14,    14,    14,
       14,    13,    13,    13,    10,    11,    11
};

const uint16_t ff_vc1_low_motion_inter_index_symbols[151] = {
       64,   128,   192,   256,   320,   384,   448,   512,
      576,   640,   704,   768,   832,   896,    65,   129,
      193,   257,   321,   385,   449,   513,   577,    66,
      130,   194,   258,   322,    67,   131,   195,   259,
       68,   132,   196,   260,    69,   133,   197,   261,
       70,   134,   198,    71,   135,   199,    72,   136,
      200,    73,   137,   201,    74,   138,   202,    75,
      139,   203,    76,   140,   204,    77,   141,    78,
      142,    79,   143,    80,    81,    82,    83,    84,
       85,    86,    87,    88,    89,    90,    91,    92,
       93,  4160,  4224,  4288,  4352,  4416,  4161,  4225,
     4289,  4353,  4162,  4226,  4290,  4163,  4227,  4291,
     4164,  4228,  4165,  4229,  4166,  4230,  4167,  4231,
     4168,  4232,  4169,  4233,  4170,  4234,  4171,  4235,
     4172,  4236,  4173,  4237,  4174,  4238,  4175,  4239,
     4176,  4177,  4178,  4179,  4180,  4181,  4182,  4183,
     4184,  4185,  4186,  4187,  4188,  4189,  4190,  4191,
     4192,  4193,  4194,  4195,  4196,  4197,  4198,  4199,
     4200,  4201,  4202,  4203, (1 << 13), (2 << 13), (3 << 13)
};

/* Low-motion Inter Run and Level Table (Tables 199 & 200)
 * as specified in 11.8.3
 */
const int8_t vc1_low_motion_inter_run_level_table[148][2] = {
    {  0,  1 }, {  0,  2 }, {  0,  3 }, {  0,  4 }, {  0,  5 }, {  0,  6 }, {  0,  7 }, {  0,  8 },
    {  0,  9 }, {  0, 10 }, {  0, 11 }, {  0, 12 }, {  0, 13 }, {  0, 14 }, {  1,  1 }, {  1,  2 },
    {  1,  3 }, {  1,  4 }, {  1,  5 }, {  1,  6 }, {  1,  7 }, {  1,  8 }, {  1,  9 }, {  2,  1 },
    {  2,  2 }, {  2,  3 }, {  2,  4 }, {  2,  5 }, {  3,  1 }, {  3,  2 }, {  3,  3 }, {  3,  4 },
    {  4,  1 }, {  4,  2 }, {  4,  3 }, {  4,  4 }, {  5,  1 }, {  5,  2 }, {  5,  3 }, {  5,  4 },
    {  6,  1 }, {  6,  2 }, {  6,  3 }, {  7,  1 }, {  7,  2 }, {  7,  3 }, {  8,  1 }, {  8,  2 },
    {  8,  3 }, {  9,  1 }, {  9,  2 }, {  9,  3 }, { 10,  1 }, { 10,  2 }, { 10,  3 }, { 11,  1 },
    { 11,  2 }, { 11,  3 }, { 12,  1 }, { 12,  2 }, { 12,  3 }, { 13,  1 }, { 13,  2 }, { 14,  1 },
    { 14,  2 }, { 15,  1 }, { 15,  2 }, { 16,  1 }, { 17,  1 }, { 18,  1 }, { 19,  1 }, { 20,  1 },
    { 21,  1 }, { 22,  1 }, { 23,  1 }, { 24,  1 }, { 25,  1 }, { 26,  1 }, { 27,  1 }, { 28,  1 },
    { 29,  1 }, {  0,  1 }, {  0,  2 }, {  0,  3 }, {  0,  4 }, {  0,  5 }, {  1,  1 }, {  1,  2 },
    {  1,  3 }, {  1,  4 }, {  2,  1 }, {  2,  2 }, {  2,  3 }, {  3,  1 }, {  3,  2 }, {  3,  3 },
    {  4,  1 }, {  4,  2 }, {  5,  1 }, {  5,  2 }, {  6,  1 }, {  6,  2 }, {  7,  1 }, {  7,  2 },
    {  8,  1 }, {  8,  2 }, {  9,  1 }, {  9,  2 }, { 10,  1 }, { 10,  2 }, { 11,  1 }, { 11,  2 },
    { 12,  1 }, { 12,  2 }, { 13,  1 }, { 13,  2 }, { 14,  1 }, { 14,  2 }, { 15,  1 }, { 15,  2 },
    { 16,  1 }, { 17,  1 }, { 18,  1 }, { 19,  1 }, { 20,  1 }, { 21,  1 }, { 22,  1 }, { 23,  1 },
    { 24,  1 }, { 25,  1 }, { 26,  1 }, { 27,  1 }, { 28,  1 }, { 29,  1 }, { 30,  1 }, { 31,  1 },
    { 32,  1 }, { 33,  1 }, { 34,  1 }, { 35,  1 }, { 36,  1 }, { 37,  1 }, { 38,  1 }, { 39,  1 },
    { 40,  1 }, { 41,  1 }, { 42,  1 }, { 43,  1 }
};

/* Low-motion Inter Delta Level Table (Tables 201 & 202)
 * as specified in 11.8.3
 */
const int8_t vc1_low_motion_inter_delta_level_table[74] = {
    14,  9,  5,  4,  4,  4,  3,  3,
     3,  3,  3,  3,  3,  2,  2,  2,
     1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  5,  4,
     3,  3,  2,  2,  2,  2,  2,  2,
     2,  2,  2,  2,  2,  2,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1,
     1,  1
};

/* Low-motion Inter Delta Run Table (Tables 203 & 204)
 * as specified in 11.8.3
 */
const int8_t vc1_low_motion_inter_delta_run_table[21] = {
     0, 29, 15, 12,  5,  2,  1,  1,
     1,  1,  0,  0,  0,  0,  0,  0,
    43, 15,  3,  1,  0
};

/* Mid Rate Intra VLC Table (Table 205)
 * as specified in 11.8.4
 */
const uint8_t ff_vc1_mid_rate_intra_index_codes[105] = {
       2,    6,   15,   13,   12,   21,   19,   18,
      23,   31,   30,   29,   37,   36,   35,   33,
      33,   32,   15,   14,    7,    6,   32,   33,
      80,   81,   82,   14,   20,   22,   28,   32,
      31,   13,   34,   83,   85,   11,   21,   30,
      12,   86,   17,   27,   29,   11,   16,   34,
      10,   13,   28,    8,   18,   27,   84,   20,
      26,   87,   25,    9,   24,   35,   23,   25,
      24,    7,   88,    7,   12,   22,   23,    6,
       5,    4,   89,   15,   22,    5,   14,    4,
      17,   36,   16,   37,   19,   90,   21,   91,
      20,   19,   26,   21,   20,   19,   18,   17,
      38,   39,   92,   93,   94,   95, (3 << 1) + 1, (3 << 2) + 1,
    (3 << 2)
};

const uint8_t ff_vc1_mid_rate_intra_index_bits[105] = {
       2,    3,    4,    5,    5,    6,    6,    6,
       7,    8,    8,    8,    9,    9,    9,    9,
      10,   10,   10,   10,   11,   11,   11,   11,
      12,   12,   12,    4,    6,    7,    8,    9,
       9,   10,   11,   12,   12,    5,    7,    9,
      10,   12,    6,    8,    9,   10,    6,    9,
      10,    6,    9,   10,    7,    9,   12,    7,
       9,   12,    8,   10,    8,   11,    8,    9,
       9,   10,   12,    4,    6,    8,    9,   10,
      11,   11,   12,    6,    9,   10,    6,   10,
       7,   11,    7,   11,    7,   12,    8,   12,
       8,    8,    8,    9,    9,    9,    9,    9,
      11,   11,   12,   12,   12,   12,    8,    9,
       9
};

const uint16_t ff_vc1_mid_rate_intra_index_symbols[105] = {
      64,  128,  192,  256,  320,  384,  448,  512,
     576,  640,  704,  768,  832,  896,  960, 1024,
    1088, 1152, 1216, 1280, 1344, 1408, 1472, 1536,
    1600, 1664, 1728,   65,  129,  193,  257,  321,
     385,  449,  513,  577,  641,   66,  130,  194,
     258,  322,   67,  131,  195,  259,   68,  132,
     196,   69,  133,  197,   70,  134,  198,   71,
     135,  199,   72,  136,   73,  137,   74,   75,
      76,   77,   78, 4160, 4224, 4288, 4352, 4416,
    4480, 4544, 4608, 4161, 4225, 4289, 4162, 4226,
    4163, 4227, 4164, 4228, 4165, 4229, 4166, 4230,
    4167, 4168, 4169, 4170, 4171, 4172, 4173, 4174,
    4175, 4176, 4177, 4178, 4179, 4180, (1 << 13), (2 << 13),
    (3 << 13)
};

/* Mid Rate Intra Run and Level Table (Tables 206 & 207)
 * as specified in 11.8.4
 */
const int8_t vc1_mid_rate_intra_run_level_table[102][2] = {
    {  0,  1 }, {  0,  2 }, {  0,  3 }, {  0,  4 }, {  0,  5 }, {  0,  6 }, {  0,  7 }, {  0,  8 },
    {  0,  9 }, {  0, 10 }, {  0, 11 }, {  0, 12 }, {  0, 13 }, {  0, 14 }, {  0, 15 }, {  0, 16 },
    {  0, 17 }, {  0, 18 }, {  0, 19 }, {  0, 20 }, {  0, 21 }, {  0, 22 }, {  0, 23 }, {  0, 24 },
    {  0, 25 }, {  0, 26 }, {  0, 27 }, {  1,  1 }, {  1,  2 }, {  1,  3 }, {  1,  4 }, {  1,  5 },
    {  1,  6 }, {  1,  7 }, {  1,  8 }, {  1,  9 }, {  1, 10 }, {  2,  1 }, {  2,  2 }, {  2,  3 },
    {  2,  4 }, {  2,  5 }, {  3,  1 }, {  3,  2 }, {  3,  3 }, {  3,  4 }, {  4,  1 }, {  4,  2 },
    {  4,  3 }, {  5,  1 }, {  5,  2 }, {  5,  3 }, {  6,  1 }, {  6,  2 }, {  6,  3 }, {  7,  1 },
    {  7,  2 }, {  7,  3 }, {  8,  1 }, {  8,  2 }, {  9,  1 }, {  9,  2 }, { 10,  1 }, { 11,  1 },
    { 12,  1 }, { 13,  1 }, { 14,  1 }, {  0,  1 }, {  0,  2 }, {  0,  3 }, {  0,  4 }, {  0,  5 },
    {  0,  6 }, {  0,  7 }, {  0,  8 }, {  1,  1 }, {  1,  2 }, {  1,  3 }, {  2,  1 }, {  2,  2 },
    {  3,  1 }, {  3,  2 }, {  4,  1 }, {  4,  2 }, {  5,  1 }, {  5,  2 }, {  6,  1 }, {  6,  2 },
    {  7,  1 }, {  8,  1 }, {  9,  1 }, { 10,  1 }, { 11,  1 }, { 12,  1 }, { 13,  1 }, { 14,  1 },
    { 15,  1 }, { 16,  1 }, { 17,  1 }, { 18,  1 }, { 19,  1 }, { 20,  1 }
};

/* Mid Rate Intra Delta Level Table (Tables 208 & 209)
 * as specified in 11.8.4
 */
const int8_t vc1_mid_rate_intra_delta_level_table[36] = {
    27, 10,  5,  4,  3,  3,  3,  3,
     2,  2,  1,  1,  1,  1,  1,  8,
     3,  2,  2,  2,  2,  2,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1
};

/* Mid Rate Intra Delta Run Table (Tables 210 & 211)
 * as specified in 11.8.4
 */
const int8_t vc1_mid_rate_intra_delta_run_table[37] = {
     0, 14,  9,  7,  3,  2,  1,  1,
     1,  1,  1,  0,  0,  0,  0,  0,
     0,  0,  0,  0,  0,  0,  0,  0,
     0,  0,  0,  0,  0, 20,  6,  1,
     0,  0,  0,  0,  0
};

/* Mid Rate Inter VLC Table (Table 212)
 * as specified in 11.8.5
 */
const uint8_t ff_vc1_mid_rate_inter_index_codes[105] = {
       2,   15,   21,   23,   31,   37,   36,   33,
      32,    7,    6,   32,    6,   20,   30,   15,
      33,   80,   14,   29,   14,   81,   13,   35,
      13,   12,   34,   82,   11,   12,   83,   19,
      11,   84,   18,   10,   17,    9,   16,    8,
      22,   85,   21,   20,   28,   27,   33,   32,
      31,   30,   29,   28,   27,   26,   34,   35,
      86,   87,    7,   25,    5,   15,    4,   14,
      13,   12,   19,   18,   17,   16,   26,   25,
      24,   23,   22,   21,   20,   19,   24,   23,
      22,   21,   20,   19,   18,   17,    7,    6,
       5,    4,   36,   37,   38,   39,   88,   89,
      90,   91,   92,   93,   94,   95, (3 << 1) + 1, (3 << 2) + 1,
    (3 << 2)
};

const uint8_t ff_vc1_mid_rate_inter_index_bits[105] = {
       2,    4,    6,    7,    8,    9,    9,   10,
      10,   11,   11,   11,    3,    6,    8,   10,
      11,   12,    4,    8,   10,   12,    5,    9,
      10,    5,    9,   12,    5,   10,   12,    6,
      10,   12,    6,   10,    6,   10,    6,   10,
       7,   12,    7,    7,    8,    8,    9,    9,
       9,    9,    9,    9,    9,    9,   11,   11,
      12,   12,    4,    9,   11,    6,   11,    6,
       6,    6,    7,    7,    7,    7,    8,    8,
       8,    8,    8,    8,    8,    8,    9,    9,
       9,    9,    9,    9,    9,    9,   10,   10,
      10,   10,   11,   11,   11,   11,   12,   12,
      12,   12,   12,   12,   12,   12,    8,    9,
       9
};

const uint16_t ff_vc1_mid_rate_inter_index_symbols[105] = {
      64,  128,  192,  256,  320,  384,  448,  512,
     576,  640,  704,  768,   65,  129,  193,  257,
     321,  385,   66,  130,  194,  258,   67,  131,
     195,   68,  132,  196,   69,  133,  197,   70,
     134,  198,   71,  135,   72,  136,   73,  137,
      74,  138,   75,   76,   77,   78,   79,   80,
      81,   82,   83,   84,   85,   86,   87,   88,
      89,   90, 4160, 4224, 4288, 4161, 4225, 4162,
    4163, 4164, 4165, 4166, 4167, 4168, 4169, 4170,
    4171, 4172, 4173, 4174, 4175, 4176, 4177, 4178,
    4179, 4180, 4181, 4182, 4183, 4184, 4185, 4186,
    4187, 4188, 4189, 4190, 4191, 4192, 4193, 4194,
    4195, 4196, 4197, 4198, 4199, 4200, (1 << 13), (2 << 13),
    (3 << 13)
};

/* Mid Rate Inter Run and Level Table (Tables 213 & 214)
 * as specified in 11.8.5
 */
const int8_t vc1_mid_rate_inter_run_level_table[102][2] = {
    {  0,  1 }, {  0,  2 }, {  0,  3 }, {  0,  4 }, {  0,  5 }, {  0,  6 }, {  0,  7 }, {  0,  8 },
    {  0,  9 }, {  0, 10 }, {  0, 11 }, {  0, 12 }, {  1,  1 }, {  1,  2 }, {  1,  3 }, {  1,  4 },
    {  1,  5 }, {  1,  6 }, {  2,  1 }, {  2,  2 }, {  2,  3 }, {  2,  4 }, {  3,  1 }, {  3,  2 },
    {  3,  3 }, {  4,  1 }, {  4,  2 }, {  4,  3 }, {  5,  1 }, {  5,  2 }, {  5,  3 }, {  6,  1 },
    {  6,  2 }, {  6,  3 }, {  7,  1 }, {  7,  2 }, {  8,  1 }, {  8,  2 }, {  9,  1 }, {  9,  2 },
    { 10,  1 }, { 10,  2 }, { 11,  1 }, { 12,  1 }, { 13,  1 }, { 14,  1 }, { 15,  1 }, { 16,  1 },
    { 17,  1 }, { 18,  1 }, { 19,  1 }, { 20,  1 }, { 21,  1 }, { 22,  1 }, { 23,  1 }, { 24,  1 },
    { 25,  1 }, { 26,  1 }, {  0,  1 }, {  0,  2 }, {  0,  3 }, {  1,  1 }, {  1,  2 }, {  2,  1 },
    {  3,  1 }, {  4,  1 }, {  5,  1 }, {  6,  1 }, {  7,  1 }, {  8,  1 }, {  9,  1 }, { 10,  1 },
    { 11,  1 }, { 12,  1 }, { 13,  1 }, { 14,  1 }, { 15,  1 }, { 16,  1 }, { 17,  1 }, { 18,  1 },
    { 19,  1 }, { 20,  1 }, { 21,  1 }, { 22,  1 }, { 23,  1 }, { 24,  1 }, { 25,  1 }, { 26,  1 },
    { 27,  1 }, { 28,  1 }, { 29,  1 }, { 30,  1 }, { 31,  1 }, { 32,  1 }, { 33,  1 }, { 34,  1 },
    { 35,  1 }, { 36,  1 }, { 37,  1 }, { 38,  1 }, { 39,  1 }, { 40,  1 }
};

/* Mid Rate Inter Delta Level Table (Tables 215 & 216)
 * as specified in 11.8.5
 */
const int8_t vc1_mid_rate_inter_delta_level_table[68] = {
    12,  6,  4,  3,  3,  3,  3,  2,
     2,  2,  2,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  3,  2,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1
};

/* Mid Rate Inter Delta Run Table (Tables 217 & 218)
 * as specified in 11.8.5
 */
const int8_t vc1_mid_rate_inter_delta_run_table[17] = {
     0, 26, 10,  6,  2,  1,  1,  0,
     0,  0,  0,  0,  0,  0, 40,  1,
     0
};

/* High Rate Intra VLC Table (Table 219)
 * as specified in 11.8.6
 */
const uint16_t ff_vc1_high_rate_intra_index_codes[165] = {
        0,     3,    13,     5,    28,    22,    63,    58,
       46,    34,   123,   103,    95,    71,    38,   239,
      205,   193,   169,    79,   498,   477,   409,   389,
      349,   283,  1007,   993,   968,   817,   771,   753,
      672,   563,   294,  1984,  1903,  1900,  1633,  1540,
     1394,  1361,  1130,   628,  3879,  3876,  3803,  3214,
     3083,  3082,  2787,  2262,  1168,  1173,  7961,  7605,
        9,    16,    41,    98,   243,   173,   485,   377,
      156,   945,   686,   295,  1902,  1392,   629,  3877,
     3776,  2720,  2263,  7756,     8,    99,   175,   379,
      947,  2013,  1600,  3981,  3009,  1169,    40,   195,
      337,   673,  1395,  3779,  7989,   101,   474,   687,
      631,  2249,  6017,    37,   280,  1606,  2726,  6016,
      201,   801,  3995,  6430,    72,  1996,  2721,   384,
     1125,  6405,   994,  3777, 15515,   756,  2248,  1985,
     2344,  1505, 12813,  3778, 25624,  7988,   120,   341,
     1362,  6431,   250,  2012,  6407,   172,   585,  5041,
      502,  2786,   476,  1261,   388,  6404,   342,  2521,
      999,  2345,   946, 15208,   757,  5040,   802, 15209,
      564, 31029,  1991, 51251,  1632, 31028,   587, 51250,
     2727,  7960, (122 << 1) + 1, (122 << 2) + 1, (122 << 2)
};

const uint8_t ff_vc1_high_rate_intra_index_bits[165] = {
        2,     3,     4,     4,     5,     5,     6,     6,
        6,     6,     7,     7,     7,     7,     7,     8,
        8,     8,     8,     8,     9,     9,     9,     9,
        9,     9,    10,    10,    10,    10,    10,    10,
       10,    10,    10,    11,    11,    11,    11,    11,
       11,    11,    11,    11,    12,    12,    12,    12,
       12,    12,    12,    12,    12,    12,    13,    13,
        4,     5,     6,     7,     8,     8,     9,     9,
        9,    10,    10,    10,    11,    11,    11,    12,
       12,    12,    12,    13,     5,     7,     8,     9,
       10,    11,    11,    12,    12,    12,     6,     8,
        9,    10,    11,    12,    13,     7,     9,    10,
       11,    12,    13,     7,     9,    11,    12,    13,
        8,    10,    12,    13,     8,    11,    12,     9,
       11,    13,    10,    12,    14,    10,    12,    11,
       13,    11,    14,    12,    15,    13,     7,     9,
       11,    13,     8,    11,    13,     8,    11,    14,
        9,    12,     9,    12,     9,    13,     9,    13,
       10,    13,    10,    14,    10,    14,    10,    14,
       10,    15,    11,    16,    11,    15,    11,    16,
       12,    13,     8,     9,     9
};

const uint16_t ff_vc1_high_rate_intra_index_symbols[165] = {
       64,   128,   192,   256,   320,   384,   448,   512,
      576,   640,   704,   768,   832,   896,   960,  1024,
     1088,  1152,  1216,  1280,  1344,  1408,  1472,  1536,
     1600,  1664,  1728,  1792,  1856,  1920,  1984,  2048,
     2112,  2176,  2240,  2304,  2368,  2432,  2496,  2560,
     2624,  2688,  2752,  2816,  2880,  2944,  3008,  3072,
     3136,  3200,  3264,  3328,  3392,  3456,  3520,  3584,
       65,   129,   193,   257,   321,   385,   449,   513,
      577,   641,   705,   769,   833,   897,   961,  1025,
     1089,  1153,  1217,  1281,    66,   130,   194,   258,
      322,   386,   450,   514,   578,   642,    67,   131,
      195,   259,   323,   387,   451,    68,   132,   196,
      260,   324,   388,    69,   133,   197,   261,   325,
       70,   134,   198,   262,    71,   135,   199,    72,
      136,   200,    73,   137,   201,    74,   138,    75,
      139,    76,   140,    77,   141,    78,  4160,  4224,
     4288,  4352,  4161,  4225,  4289,  4162,  4226,  4290,
     4163,  4227,  4164,  4228,  4165,  4229,  4166,  4230,
     4167,  4231,  4168,  4232,  4169,  4233,  4170,  4234,
     4171,  4235,  4172,  4236,  4173,  4237,  4174,  4238,
     4175,  4176, (1 << 13), (2 << 13), (3 << 13)
};

/* High Rate Intra Run and Level Table (Tables 220 & 221)
 * as specified in 11.8.6
 */
const int8_t vc1_high_rate_intra_run_level_table[162][2] = {
    {  0,  1 }, {  0,  2 }, {  0,  3 }, {  0,  4 }, {  0,  5 }, {  0,  6 }, {  0,  7 }, {  0,  8 },
    {  0,  9 }, {  0, 10 }, {  0, 11 }, {  0, 12 }, {  0, 13 }, {  0, 14 }, {  0, 15 }, {  0, 16 },
    {  0, 17 }, {  0, 18 }, {  0, 19 }, {  0, 20 }, {  0, 21 }, {  0, 22 }, {  0, 23 }, {  0, 24 },
    {  0, 25 }, {  0, 26 }, {  0, 27 }, {  0, 28 }, {  0, 29 }, {  0, 30 }, {  0, 31 }, {  0, 32 },
    {  0, 33 }, {  0, 34 }, {  0, 35 }, {  0, 36 }, {  0, 37 }, {  0, 38 }, {  0, 39 }, {  0, 40 },
    {  0, 41 }, {  0, 42 }, {  0, 43 }, {  0, 44 }, {  0, 45 }, {  0, 46 }, {  0, 47 }, {  0, 48 },
    {  0, 49 }, {  0, 50 }, {  0, 51 }, {  0, 52 }, {  0, 53 }, {  0, 54 }, {  0, 55 }, {  0, 56 },
    {  1,  1 }, {  1,  2 }, {  1,  3 }, {  1,  4 }, {  1,  5 }, {  1,  6 }, {  1,  7 }, {  1,  8 },
    {  1,  9 }, {  1, 10 }, {  1, 11 }, {  1, 12 }, {  1, 13 }, {  1, 14 }, {  1, 15 }, {  1, 16 },
    {  1, 17 }, {  1, 18 }, {  1, 19 }, {  1, 20 }, {  2,  1 }, {  2,  2 }, {  2,  3 }, {  2,  4 },
    {  2,  5 }, {  2,  6 }, {  2,  7 }, {  2,  8 }, {  2,  9 }, {  2, 10 }, {  3,  1 }, {  3,  2 },
    {  3,  3 }, {  3,  4 }, {  3,  5 }, {  3,  6 }, {  3,  7 }, {  4,  1 }, {  4,  2 }, {  4,  3 },
    {  4,  4 }, {  4,  5 }, {  4,  6 }, {  5,  1 }, {  5,  2 }, {  5,  3 }, {  5,  4 }, {  5,  5 },
    {  6,  1 }, {  6,  2 }, {  6,  3 }, {  6,  4 }, {  7,  1 }, {  7,  2 }, {  7,  3 }, {  8,  1 },
    {  8,  2 }, {  8,  3 }, {  9,  1 }, {  9,  2 }, {  9,  3 }, { 10,  1 }, { 10,  2 }, { 11,  1 },
    { 11,  2 }, { 12,  1 }, { 12,  2 }, { 13,  1 }, { 13,  2 }, { 14,  1 }, {  0,  1 }, {  0,  2 },
    {  0,  3 }, {  0,  4 }, {  1,  1 }, {  1,  2 }, {  1,  3 }, {  2,  1 }, {  2,  2 }, {  2,  3 },
    {  3,  1 }, {  3,  2 }, {  4,  1 }, {  4,  2 }, {  5,  1 }, {  5,  2 }, {  6,  1 }, {  6,  2 },
    {  7,  1 }, {  7,  2 }, {  8,  1 }, {  8,  2 }, {  9,  1 }, {  9,  2 }, { 10,  1 }, { 10,  2 },
    { 11,  1 }, { 11,  2 }, { 12,  1 }, { 12,  2 }, { 13,  1 }, { 13,  2 }, { 14,  1 }, { 14,  2 },
    { 15,  1 }, { 16,  1 }
};

/* High Rate Intra Delta Level Table (Tables 222 & 223)
 * as specified in 11.8.6
 */
const int8_t vc1_high_rate_intra_delta_level_table[32] = {
    56, 20, 10,  7,  6,  5,  4,  3,
     3,  3,  2,  2,  2,  2,  1,  4,
     3,  3,  2,  2,  2,  2,  2,  2,
     2,  2,  2,  2,  2,  2,  1,  1
};

/* High Rate Intra Delta Run Table (Tables 224 & 225)
 * as specified in 11.8.6
 */
const int8_t vc1_high_rate_intra_delta_run_table[62] = {
     0, 14, 13,  9,  6,  5,  4,  3,
     2,  2,  2,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  0,  0,  0,
     0,  0,  0,  0,  0,  0,  0,  0,
     0,  0,  0,  0,  0,  0,  0,  0,
     0,  0,  0,  0,  0,  0,  0,  0,
     0,  0,  0,  0,  0,  0,  0,  0,
     0,  0, 16, 14,  2,  0
};

/* High Rate Inter VLC Table (Table 226)
 * as specified in 11.8.7
 */
const uint32_t ff_vc1_high_rate_inter_index_codes[177] = {
          2,       0,      30,       4,      18,     112,      26,      95,
         71,     467,     181,      87,     949,     365,     354,    1998,
       1817,    1681,     710,     342,    3986,    3374,    3360,    1438,
       1128,     678,    7586,    7264,    6723,    2845,    2240,    1373,
          3,      10,     119,     229,     473,     997,     358,    1684,
        338,    1439,    7996,    6731,    1374,      12,     125,      68,
        992,    1897,    3633,    7974,    1372,      27,     226,     933,
        713,    7971,   15175,       7,     472,     728,    7975,   13460,
         53,     993,    1436,   14531,      12,     357,    7459,    5688,
        104,    1683,   14917,      32,    3984,   31990,     232,    1423,
      11503,      69,    2874,     497,   15174,     423,    5750,      86,
      26922,     909,   58121,     170,  116241,     735,   46009,     712,
     232480,     432,   91024,    3999,   92017,    3792,  464963,    3370,
    1023628,    1121, 1023630,    2919,    1375,      63,     109,    3728,
       1358,      19,     281,    2918,      11,     565,   31989,     117,
       3364,   63977,      46,    7970,      33,    1359,      20,   14916,
        228,   31991,      94,   29061,      55,   11379,     475,   23005,
        455,   26923,     422,   22757,     180,  127952,     176,   45513,
        998,   92016,     366,  255906,     283, 1023629,     217, 1023631,
        168,  182051,    1865,  929924,    1686,  364101,     734,  728200,
        561, 1859850,     433, 7439405,    3371, 3719703,    3375, 1456403,
       1458, 1456402,    1129, 7439404,    6722,    2241, (115 << 1) + 1, (115 << 2) + 1,
    (115 << 2)
};

const uint8_t ff_vc1_high_rate_inter_index_bits[177] = {
          2,       3,       5,       5,       6,       7,       7,       8,
          8,       9,       9,       9,      10,      10,      10,      11,
         11,      11,      11,      11,      12,      12,      12,      12,
         12,      12,      13,      13,      13,      13,      13,      13,
          3,       5,       7,       8,       9,      10,      10,      11,
         11,      12,      13,      13,      13,       4,       7,       8,
         10,      11,      12,      13,      13,       5,       8,      10,
         11,      13,      14,       5,       9,      11,      13,      14,
          6,      10,      12,      14,       6,      10,      13,      14,
          7,      11,      14,       7,      12,      15,       8,      12,
         15,       8,      13,       9,      14,       9,      14,       9,
         15,      10,      16,      10,      17,      11,      17,      11,
         18,      11,      18,      12,      18,      12,      19,      12,
         20,      12,      20,      13,      13,       6,       9,      12,
         13,       6,      10,      13,       6,      11,      15,       7,
         12,      16,       7,      13,       7,      13,       7,      14,
          8,      15,       8,      15,       8,      15,       9,      16,
          9,      15,       9,      16,       9,      17,       9,      17,
         10,      18,      10,      18,      10,      20,      10,      20,
         10,      19,      11,      20,      11,      20,      11,      21,
         11,      21,      11,      23,      12,      22,      12,      22,
         12,      22,      12,      23,      13,      13,       8,       9,
          9
};

const uint16_t ff_vc1_high_rate_inter_index_symbols[177] = {
         64,     128,     192,     256,     320,     384,     448,     512,
        576,     640,     704,     768,     832,     896,     960,    1024,
       1088,    1152,    1216,    1280,    1344,    1408,    1472,    1536,
       1600,    1664,    1728,    1792,    1856,    1920,    1984,    2048,
         65,     129,     193,     257,     321,     385,     449,     513,
        577,     641,     705,     769,     833,      66,     130,     194,
        258,     322,     386,     450,     514,      67,     131,     195,
        259,     323,     387,      68,     132,     196,     260,     324,
         69,     133,     197,     261,      70,     134,     198,     262,
         71,     135,     199,      72,     136,     200,      73,     137,
        201,      74,     138,      75,     139,      76,     140,      77,
        141,      78,     142,      79,     143,      80,     144,      81,
        145,      82,     146,      83,     147,      84,     148,      85,
        149,      86,     150,      87,      88,    4160,    4224,    4288,
        4352,   4161,    4225,    4289,    4162,    4226,    4290,    4163,
        4227,   4291,    4164,    4228,    4165,    4229,    4166,    4230,
        4167,   4231,    4168,    4232,    4169,    4233,    4170,    4234,
        4171,   4235,    4172,    4236,    4173,    4237,    4174,    4238,
        4175,   4239,    4176,    4240,    4177,    4241,    4178,    4242,
        4179,   4243,    4180,    4244,    4181,    4245,    4182,    4246,
        4183,   4247,    4184,    4248,    4185,    4249,    4186,    4250,
        4187,   4251,    4188,    4252,    4189,    4190, (1 << 13), (2 << 13),
    (3 << 13)
};

/* High Rate Inter Run and Level Table (Tables 227 & 228)
 * as specified in 11.8.7
 */
const int8_t vc1_high_rate_inter_run_level_table[174][2] = {
    {  0,  1 }, {  0,  2 }, {  0,  3 }, {  0,  4 }, {  0,  5 }, {  0,  6 }, {  0,  7 }, {  0,  8 },
    {  0,  9 }, {  0, 10 }, {  0, 11 }, {  0, 12 }, {  0, 13 }, {  0, 14 }, {  0, 15 }, {  0, 16 },
    {  0, 17 }, {  0, 18 }, {  0, 19 }, {  0, 20 }, {  0, 21 }, {  0, 22 }, {  0, 23 }, {  0, 24 },
    {  0, 25 }, {  0, 26 }, {  0, 27 }, {  0, 28 }, {  0, 29 }, {  0, 30 }, {  0, 31 }, {  0, 32 },
    {  1,  1 }, {  1,  2 }, {  1,  3 }, {  1,  4 }, {  1,  5 }, {  1,  6 }, {  1,  7 }, {  1,  8 },
    {  1,  9 }, {  1, 10 }, {  1, 11 }, {  1, 12 }, {  1, 13 }, {  2,  1 }, {  2,  2 }, {  2,  3 },
    {  2,  4 }, {  2,  5 }, {  2,  6 }, {  2,  7 }, {  2,  8 }, {  3,  1 }, {  3,  2 }, {  3,  3 },
    {  3,  4 }, {  3,  5 }, {  3,  6 }, {  4,  1 }, {  4,  2 }, {  4,  3 }, {  4,  4 }, {  4,  5 },
    {  5,  1 }, {  5,  2 }, {  5,  3 }, {  5,  4 }, {  6,  1 }, {  6,  2 }, {  6,  3 }, {  6,  4 },
    {  7,  1 }, {  7,  2 }, {  7,  3 }, {  8,  1 }, {  8,  2 }, {  8,  3 }, {  9,  1 }, {  9,  2 },
    {  9,  3 }, { 10,  1 }, { 10,  2 }, { 11,  1 }, { 11,  2 }, { 12,  1 }, { 12,  2 }, { 13,  1 },
    { 13,  2 }, { 14,  1 }, { 14,  2 }, { 15,  1 }, { 15,  2 }, { 16,  1 }, { 16,  2 }, { 17,  1 },
    { 17,  2 }, { 18,  1 }, { 18,  2 }, { 19,  1 }, { 19,  2 }, { 20,  1 }, { 20,  2 }, { 21,  1 },
    { 21,  2 }, { 22,  1 }, { 22,  2 }, { 23,  1 }, { 24,  1 }, {  0,  1 }, {  0,  2 }, {  0,  3 },
    {  0,  4 }, {  1,  1 }, {  1,  2 }, {  1,  3 }, {  2,  1 }, {  2,  2 }, {  2,  3 }, {  3,  1 },
    {  3,  2 }, {  3,  3 }, {  4,  1 }, {  4,  2 }, {  5,  1 }, {  5,  2 }, {  6,  1 }, {  6,  2 },
    {  7,  1 }, {  7,  2 }, {  8,  1 }, {  8,  2 }, {  9,  1 }, {  9,  2 }, { 10,  1 }, { 10,  2 },
    { 11,  1 }, { 11,  2 }, { 12,  1 }, { 12,  2 }, { 13,  1 }, { 13,  2 }, { 14,  1 }, { 14,  2 },
    { 15,  1 }, { 15,  2 }, { 16,  1 }, { 16,  2 }, { 17,  1 }, { 17,  2 }, { 18,  1 }, { 18,  2 },
    { 19,  1 }, { 19,  2 }, { 20,  1 }, { 20,  2 }, { 21,  1 }, { 21,  2 }, { 22,  1 }, { 22,  2 },
    { 23,  1 }, { 23,  2 }, { 24,  1 }, { 24,  2 }, { 25,  1 }, { 25,  2 }, { 26,  1 }, { 26,  2 },
    { 27,  1 }, { 27,  2 }, { 28,  1 }, { 28,  2 }, { 29,  1 }, { 30,  1 }
};

/* High Rate Inter Delta Level Table (Tables 229 & 230)
 * as specified in 11.8.7
 */
const int8_t vc1_high_rate_inter_delta_level_table[56] = {
    32, 13,  8,  6,  5,  4,  4,  3,
     3,  3,  2,  2,  2,  2,  2,  2,
     2,  2,  2,  2,  2,  2,  2,  1,
     1,  4,  3,  3,  3,  2,  2,  2,
     2,  2,  2,  2,  2,  2,  2,  2,
     2,  2,  2,  2,  2,  2,  2,  2,
     2,  2,  2,  2,  2,  2,  1,  1
};

/* High Rate Inter Delta Run Table (Tables 231 & 232)
 * as specified in 11.8.7
 */
const int8_t vc1_high_rate_inter_delta_run_table[38] = {
     0, 24, 22,  9,  6,  4,  3,  2,
     2,  1,  1,  1,  1,  1,  0,  0,
     0,  0,  0,  0,  0,  0,  0,  0,
     0,  0,  0,  0,  0,  0,  0,  0,
     0,  0, 30, 28,  3,  0
};

/* Intra Normal Scan Zigzag Table (Table 233)
 * as specified in 11.9.1 (transposed)
 * transpose(x) { x >> 3 | (x & 7) << 3 }
 */
const int8_t ff_vc1_intra_8x8_normal_scan_zz_table[64] = {
     0,  1,  8, 16,  9,  2,  3, 10,
    17, 24, 32, 25, 18, 11,  4,  5,
    12,  6, 19, 26, 33, 40, 48, 41,
    34, 27, 20, 13,  7, 14, 15, 21,
    28, 35, 42, 49, 56, 57, 50, 43,
    36, 29, 22, 23, 30, 31, 37, 44,
    51, 58, 59, 52, 45, 38, 39, 46,
    47, 53, 60, 61, 54, 55, 62, 63
};

/* Intra Horizontal Scan Zigzag Table (Table 234)
 * as specified in 11.9.1 (transposed)
 * transpose(x) { x >> 3 | (x & 7) << 3 }
 */
const int8_t ff_vc1_intra_8x8_horiz_scan_zz_table[64] = {
     0,  8,  1, 16, 24,  9,  2,  3,
    10, 17, 32, 40, 25, 18, 11,  4,
     5,  6, 12, 19, 26, 33, 48, 56,
    41, 34, 27, 20, 13,  7, 14, 15,
    21, 28, 35, 42, 49, 57, 50, 43,
    36, 29, 22, 23, 30, 37, 44, 51,
    58, 59, 52, 45, 38, 31, 39, 46,
    53, 60, 61, 54, 47, 55, 62, 63
};

/* Intra Vertical Scan Zigzag Table (Table 235)
 * as specified in 11.9.1 (transposed)
 * transpose(x) { x >> 3 | (x & 7) << 3 }
 */
const int8_t ff_vc1_intra_8x8_vert_scan_zz_table[64] = {
     0,  1,  2,  8,  3,  4,  5,  9,
    16, 24, 17, 10, 11,  6,  7, 13,
    12, 19, 18, 25, 32, 40, 33, 26,
    27, 20, 14, 15, 22, 21, 28, 35,
    34, 41, 48, 56, 49, 42, 43, 36,
    29, 30, 23, 31, 38, 37, 44, 51,
    50, 57, 58, 59, 52, 45, 39, 46,
    53, 60, 61, 54, 47, 55, 62, 63
};

/* Inter 8x8 Scan Zigzag Table (Table 236)
 * as specified in 11.9.2 (transposed)
 * transpose(x) { x >> 3 | (x & 7) << 3 }
 */
const int8_t ff_vc1_inter_8x8_scan_zz_table[64] = {
     0,  1,  8, 16,  9,  2,  3, 10,
    17, 24, 32, 25, 18, 11,  4,  5,
     6,  7, 13, 12, 19, 26, 33, 40,
    48, 41, 34, 27, 20, 14, 15, 23,
    22, 21, 28, 35, 42, 49, 56, 57,
    50, 43, 36, 29, 30, 31, 39, 38,
    37, 44, 51, 58, 59, 52, 45, 46,
    47, 55, 54, 53, 60, 61, 62, 63
};

/* Inter 8x4 Scan Zigzag Table (Table 237)
 * as specified in 11.9.2
 */
const int8_t ff_vc1_inter_8x4_scan_zz_table[32] = {
     0,  1,  2,  8,  3,  9, 10, 16,
     4, 11, 17, 24, 18, 12,  5, 19,
    25, 13, 20, 26, 27,  6, 21, 28,
    14, 22, 29,  7, 30, 15, 23, 31
};

/* Inter 4x8 Scan Zigzag Table (Table 238)
 * as specified in 11.9.2 (adapted)
 * adapt(x) { x & 3 | (x & 28) << 1 }
 */
const int8_t ff_vc1_inter_4x8_scan_zz_table[32] = {
     0,  8,  1, 16,
     9, 24, 17,  2,
    32, 10, 25, 40,
    18, 48, 33, 26,
    56, 41, 34,  3,
    49, 57, 11, 42,
    19, 50, 27, 58,
    35, 43, 51, 59
};

/* Inter 4x4 Scan Zigzag Table (Table 239)
 * as specified in 11.9.2 (adapted)
 * adapt(x) { x & 3 | (x & 12) << 1 }
 */
const int8_t ff_vc1_inter_4x4_scan_zz_table[16] = {
     0,  8, 16,  1,
     9, 24, 17,  2,
    10, 18, 25,  3,
    11, 26, 19, 27
};

/* P Interlaced field picture MV predictor scaling values (Table 114) */
const uint16_t ff_vc1_field_mvpred_scales[2][7][4] = {
// Refdist:
//      0       1       2       3 or greater
  { // current field is first
    { 128,    192,    213,    224 },   // SCALEOPP
    { 512,    341,    307,    293 },   // SCALESAME1
    { 219,    236,    242,    245 },   // SCALESAME2
    {  32,     48,     53,     56 },   // SCALEZONE1_X
    {   8,     12,     13,     14 },   // SCALEZONE1_Y
    {  37,     20,     14,     11 },   // ZONE1OFFSET_X
    {  10,      5,      4,      3 }    // ZONE1OFFSET_Y
  },
  { // current field is second
    { 128,     64,     43,     32 },   // SCALEOPP
    { 512,   1024,   1536,   2048 },   // SCALESAME1
    { 219,    204,    200,    198 },   // SCALESAME2
    {  32,     16,     11,      8 },   // SCALEZONE1_X
    {   8,      4,      3,      2 },   // SCALEZONE1_Y
    {  37,     52,     56,     58 },   // ZONE1OFFSET_X
    {  10,     13,     14,     15 }    // ZONE1OFFSET_Y
  }
};

/* B Interlaced field picture backward MV predictor scaling values for first field (Table 115) */
const uint16_t ff_vc1_b_field_mvpred_scales[7][4] = {
    // BRFD:
    //  0       1       2       3 or greater
    { 171,    205,    219,    228 },   // SCALESAME
    { 384,    320,    299,    288 },   // SCALEOPP1
    { 230,    239,    244,    246 },   // SCALEOPP2
    {  43,     51,     55,     57 },   // SCALEZONE1_X
    {  11,     13,     14,     14 },   // SCALEZONE1_Y
    {  26,     17,     12,     10 },   // ZONE1OFFSET_X
    {   7,      4,      3,      3 }    // ZONE1OFFSET_Y
};

const int ff_vc1_ac_sizes[AC_MODES] = {
    186, 169, 133, 149, 103, 103, 163, 175
};


